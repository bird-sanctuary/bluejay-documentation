<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="804px" preserveAspectRatio="none" style="width:651px;height:804px;" version="1.1" viewBox="0 0 651 804" width="651px" zoomAndPan="magnify"><defs><filter height="300%" id="f1gdhdm8z4lbyl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="373" cy="20" fill="#000000" filter="url(#f1gdhdm8z4lbyl)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="190" x="278" y="119.8013"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="288" y="140.9399">Rcp_Outside_Range_Cnt++</text><polygon fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" points="286,71.3989,460,71.3989,472,83.3989,460,95.3989,286,95.3989,274,83.3989,286,71.3989" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="377" y="105.6094">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="174" x="286" y="87.207">Rcp_Outside_Range_Cnt &lt; 255</text><polygon fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" points="373,173.77,385,185.77,373,197.77,361,185.77,373,173.77" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" points="285,235.2783,461,235.2783,473,247.2783,461,259.2783,285,259.2783,273,247.2783,285,235.2783" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="285" y="251.0864">Rcp_Outside_Range_Cnt &lt;= 50</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="210" x="10" y="219.0747">yes -&gt; RCP signal has not timed out,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="226" x="10" y="231.8794">but pulses are not recognized as DShot</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="263" x="10" y="244.6841">Set pulse lenght to 0 &amp; reset dshot command</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="473" y="244.6841">no -&gt; Set timeout count</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="136" x="195" y="269.2783"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="205" y="290.417">Flag_Rcp_Stop = 1</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="117" x="204.5" y="323.2471"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="214.5" y="344.3857">DShot_Cmd = 0</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="144" x="191" y="377.2158"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="201" y="398.3545">DShot_Cmd_Cnt = 0</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="168" x="399" y="269.2783"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="409" y="290.417">Rcp_Timeout_Cntd = 10</text><polygon fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" points="373,417.1846,385,429.1846,373,441.1846,361,429.1846,373,417.1846" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="88" x="329" y="495.3882"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="339" y="516.5269">Temp1 = 0</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="67" x="339.5" y="549.3569"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="349.5" y="570.4956">TL0 = 0</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="86" x="330" y="603.3257"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="340" y="624.4644">IE_EX0 = 1</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="86" x="330" y="657.2944"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="340" y="678.4331">IE_EX1 = 1</text><rect fill="#FEFECE" filter="url(#f1gdhdm8z4lbyl)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="38" x="354" y="711.2632"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="18" x="364" y="732.4019">ret</text><ellipse cx="373" cy="776.2319" fill="#FFFFFF" filter="url(#f1gdhdm8z4lbyl)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="373" cy="776.2319" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="95.3989" y2="119.8013"/><polygon fill="#A80036" points="369,109.8013,373,119.8013,377,109.8013,373,113.8013" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="472" x2="484" y1="83.3989" y2="83.3989"/><polygon fill="#A80036" points="480,126.7856,484,136.7856,488,126.7856,484,130.7856" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="484" x2="484" y1="83.3989" y2="185.77"/><line style="stroke:#A80036;stroke-width:1.5;" x1="484" x2="385" y1="185.77" y2="185.77"/><polygon fill="#A80036" points="395,181.77,385,185.77,395,189.77,391,185.77" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="153.77" y2="173.77"/><polygon fill="#A80036" points="369,163.77,373,173.77,377,163.77,373,167.77" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="30" y2="71.3989"/><polygon fill="#A80036" points="369,61.3989,373,71.3989,377,61.3989,373,65.3989" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="377" y="51.3047">OutsideRange function</text><line style="stroke:#A80036;stroke-width:1.5;" x1="263" x2="263" y1="303.2471" y2="323.2471"/><polygon fill="#A80036" points="259,313.2471,263,323.2471,267,313.2471,263,317.2471" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="263" x2="263" y1="357.2158" y2="377.2158"/><polygon fill="#A80036" points="259,367.2158,263,377.2158,267,367.2158,263,371.2158" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="273" x2="263" y1="247.2783" y2="247.2783"/><line style="stroke:#A80036;stroke-width:1.5;" x1="263" x2="263" y1="247.2783" y2="269.2783"/><polygon fill="#A80036" points="259,259.2783,263,269.2783,267,259.2783,263,263.2783" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="473" x2="483" y1="247.2783" y2="247.2783"/><line style="stroke:#A80036;stroke-width:1.5;" x1="483" x2="483" y1="247.2783" y2="269.2783"/><polygon fill="#A80036" points="479,259.2783,483,269.2783,487,259.2783,483,263.2783" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="263" x2="263" y1="411.1846" y2="429.1846"/><line style="stroke:#A80036;stroke-width:1.5;" x1="263" x2="361" y1="429.1846" y2="429.1846"/><polygon fill="#A80036" points="351,425.1846,361,429.1846,351,433.1846,355,429.1846" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="483" x2="483" y1="303.2471" y2="429.1846"/><line style="stroke:#A80036;stroke-width:1.5;" x1="483" x2="385" y1="429.1846" y2="429.1846"/><polygon fill="#A80036" points="395,425.1846,385,429.1846,395,433.1846,391,429.1846" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="197.77" y2="235.2783"/><polygon fill="#A80036" points="369,225.2783,373,235.2783,377,225.2783,373,229.2783" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="441.1846" y2="495.3882"/><polygon fill="#A80036" points="369,485.3882,373,495.3882,377,485.3882,373,489.3882" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="377" y="462.4893">Do not send telemetry. Set tx pointer to start,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="217" x="377" y="475.2939">reset timer 0 and enable int0 and int1</text><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="529.3569" y2="549.3569"/><polygon fill="#A80036" points="369,539.3569,373,549.3569,377,539.3569,373,543.3569" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="583.3257" y2="603.3257"/><polygon fill="#A80036" points="369,593.3257,373,603.3257,377,593.3257,373,597.3257" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="637.2944" y2="657.2944"/><polygon fill="#A80036" points="369,647.2944,373,657.2944,377,647.2944,373,651.2944" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="691.2632" y2="711.2632"/><polygon fill="#A80036" points="369,701.2632,373,711.2632,377,701.2632,373,705.2632" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="373" x2="373" y1="745.2319" y2="765.2319"/><polygon fill="#A80036" points="369,755.2319,373,765.2319,377,755.2319,373,759.2319" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ac0524fd9fb8fc226392226cffcfc9f2]
@startuml 
start
->OutsideRange function;
if (Rcp_Outside_Range_Cnt < 255) then (yes)
  :Rcp_Outside_Range_Cnt++;
endif

if (Rcp_Outside_Range_Cnt <= 50) then
  ->yes -> RCP signal has not timed out, 
  but pulses are not recognized as DShot
  Set pulse lenght to 0 & reset dshot command;
  :Flag_Rcp_Stop = 1;
  :DShot_Cmd = 0;
  :DShot_Cmd_Cnt = 0;
else
  ->no -> Set timeout count;
  :Rcp_Timeout_Cntd = 10;
endif

->Do not send telemetry. Set tx pointer to start, 
reset timer 0 and enable int0 and int1;
:Temp1 = 0;
:TL0 = 0;
:IE_EX0 = 1;
:IE_EX1 = 1;
:ret;
stop
@enduml

PlantUML version 1.2021.5(Sun Apr 25 13:20:28 CEST 2021)
(EPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg>
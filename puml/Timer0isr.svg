<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1295px" preserveAspectRatio="none" style="width:1398px;height:1295px;" version="1.1" viewBox="0 0 1398 1295" width="1398px" zoomAndPan="magnify"><defs><filter height="300%" id="f1c7odqqc4ot4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="680.25" cy="20" fill="#000000" filter="url(#f1c7odqqc4ot4)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="82" x="639.25" y="71.3989"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="649.25" y="92.5376">Push PSW</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="162" x="599.25" y="125.3677"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="142" x="609.25" y="146.5063">Select Register Bank 2</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="70" x="645.25" y="251.9541"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="655.25" y="273.0928">Temp1--</text><polygon fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" points="596.25,323.4312,764.25,323.4312,776.25,335.4312,764.25,347.4312,596.25,347.4312,584.25,335.4312,596.25,323.4312" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="168" x="596.25" y="339.2393">Temp1 &lt; &amp;Temp_Storage - 1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="346.25" y="307.2275">YES</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="346.25" y="320.0322">Increase Temp1 so it indexes an address</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="346.25" y="332.8369">inside the Temp_Storage array</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="776.25" y="320.0322">NO -&gt; PERFORM A TRANSITION</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="776.25" y="332.8369">Invert signal level</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="82" x="297" y="357.4312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="307" y="378.5698">Temp1++</text><polygon fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" points="299,472.8223,377,472.8223,389,484.8223,377,496.8223,299,496.8223,287,484.8223,299,472.8223" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="299" y="488.6304">RTX_BIT == 1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="48" y="456.6187">YES -&gt; FINISH SENDING DATA BACK TO FC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="48" y="469.4233">Configure RTX_PIN for digital input</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="48" y="482.228">Set RTX_PIN output mode to open-drain</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="389" y="469.4233">NO -&gt; PERFORM A TRANSITION</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="389" y="482.228">Invert signal level</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="263" x="11" y="506.8223"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="243" x="21" y="527.9609">RTX_MDOUT &amp;= RTX_PIN_DISABLE_MASK</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="98" x="93.5" y="582.1899"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="103.5" y="603.3286">setb RTX_BIT</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="79" x="103" y="657.5576"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="113" y="678.6963">clr IE_ET0</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="129" x="78" y="732.9253"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="88" y="754.064">CKCON0 = Temp8</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="105" x="90" y="808.293"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="100" y="829.4316">TMOD = 0AAh</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="97" x="94" y="883.6606"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77" x="104" y="904.7993">clr TCON_IE0</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="97" x="94" y="937.6294"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77" x="104" y="958.7681">clr TCON_IE1</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="189" x="48" y="1012.9971"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169" x="58" y="1034.1357">clr Flag_Telemetry_Pending</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="147" x="460" y="506.8223"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="470" y="527.9609">complement RTX_BIT</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="190" x="438.5" y="582.1899"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="448.5" y="603.3286">Timer 0 Low Byte = *Temp1</text><polygon fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" points="338,1052.9658,350,1064.9658,338,1076.9658,326,1064.9658,338,1052.9658" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="147" x="949" y="357.4312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="959" y="378.5698">complement RTX_BIT</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="190" x="927.5" y="432.7988"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="937.5" y="453.9375">Timer 0 Low Byte = *Temp1</text><polygon fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" points="680.25,1082.9658,692.25,1094.9658,680.25,1106.9658,668.25,1094.9658,680.25,1082.9658" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="75" x="642.75" y="1148.3647"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="652.75" y="1169.5034">Pop PSW</text><rect fill="#FEFECE" filter="url(#f1c7odqqc4ot4)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="41" x="659.75" y="1202.3335"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="669.75" y="1223.4722">reti</text><ellipse cx="680.25" cy="1267.3022" fill="#FFFFFF" filter="url(#f1c7odqqc4ot4)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="680.25" cy="1267.3022" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="30" y2="71.3989"/><polygon fill="#A80036" points="676.25,61.3989,680.25,71.3989,684.25,61.3989,680.25,65.3989" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="684.25" y="51.3047">Timer0 interrupt routine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="105.3677" y2="125.3677"/><polygon fill="#A80036" points="676.25,115.3677,680.25,125.3677,684.25,115.3677,680.25,119.3677" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="159.3364" y2="251.9541"/><polygon fill="#A80036" points="676.25,241.9541,680.25,251.9541,684.25,241.9541,680.25,245.9541" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="684.25" y="180.6411">Datas:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="396" x="688.25" y="193.4458">- Bank2.Temp1 contains the address of bytes in Temp_Storage array</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="688.25" y="206.2505">- Bank2.Temp8 contains timer0/1 clock settings</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="354" x="688.25" y="219.0552">- Temp_Storage array contains the lo and hi parts of every bit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="684.25" y="231.8599">semicycle to be transmitted</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="540.791" y2="582.1899"/><polygon fill="#A80036" points="138.5,572.1899,142.5,582.1899,146.5,572.1899,142.5,576.1899" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="146.5" y="562.0957">Set RTX_PIN to Float high</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="616.1587" y2="657.5576"/><polygon fill="#A80036" points="138.5,647.5576,142.5,657.5576,146.5,647.5576,142.5,651.5576" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="146.5" y="637.4634">Disable Timer0 interrupts</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="691.5264" y2="732.9253"/><polygon fill="#A80036" points="138.5,722.9253,142.5,732.9253,146.5,722.9253,142.5,726.9253" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="264" x="146.5" y="712.8311">Restore regular DShot Timer0/1 clock settings</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="766.894" y2="808.293"/><polygon fill="#A80036" points="138.5,798.293,142.5,808.293,146.5,798.293,142.5,802.293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="146.5" y="788.1987">Timer0/1 gated by Int0/1</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="842.2617" y2="883.6606"/><polygon fill="#A80036" points="138.5,873.6606,142.5,883.6606,146.5,873.6606,142.5,877.6606" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="146.5" y="863.5664">Clear Int0 &amp; Int1 pending flags</text><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="917.6294" y2="937.6294"/><polygon fill="#A80036" points="138.5,927.6294,142.5,937.6294,146.5,927.6294,142.5,931.6294" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="971.5981" y2="1012.9971"/><polygon fill="#A80036" points="138.5,1002.9971,142.5,1012.9971,146.5,1002.9971,142.5,1006.9971" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="272" x="146.5" y="992.9028">Mark that new telemetry packet may be created</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="533.5" y1="540.791" y2="582.1899"/><polygon fill="#A80036" points="529.5,572.1899,533.5,582.1899,537.5,572.1899,533.5,576.1899" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="360" x="537.5" y="562.0957">Reload the timer to be triggered at the end of the bit semicycle</text><line style="stroke:#A80036;stroke-width:1.5;" x1="287" x2="142.5" y1="484.8223" y2="484.8223"/><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="484.8223" y2="506.8223"/><polygon fill="#A80036" points="138.5,496.8223,142.5,506.8223,146.5,496.8223,142.5,500.8223" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="389" x2="533.5" y1="484.8223" y2="484.8223"/><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="533.5" y1="484.8223" y2="506.8223"/><polygon fill="#A80036" points="529.5,496.8223,533.5,506.8223,537.5,496.8223,533.5,500.8223" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="142.5" y1="1046.9658" y2="1064.9658"/><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="326" y1="1064.9658" y2="1064.9658"/><polygon fill="#A80036" points="316,1060.9658,326,1064.9658,316,1068.9658,320,1064.9658" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="533.5" y1="616.1587" y2="1064.9658"/><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="350" y1="1064.9658" y2="1064.9658"/><polygon fill="#A80036" points="360,1060.9658,350,1064.9658,360,1068.9658,356,1064.9658" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="391.3999" y2="472.8223"/><polygon fill="#A80036" points="334,462.8223,338,472.8223,342,462.8223,338,466.8223" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="304" x="342" y="419.9116">If last pulse is high, it is the last possitive semicycle,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="342" y="432.7163">so telemetry sending is finished,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="342" y="445.521">otherwise wait for it to return to high</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1022.5" x2="1022.5" y1="391.3999" y2="432.7988"/><polygon fill="#A80036" points="1018.5,422.7988,1022.5,432.7988,1026.5,422.7988,1022.5,426.7988" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="360" x="1026.5" y="412.7046">Reload the timer to be triggered at the end of the bit semicycle</text><line style="stroke:#A80036;stroke-width:1.5;" x1="584.25" x2="338" y1="335.4312" y2="335.4312"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="335.4312" y2="357.4312"/><polygon fill="#A80036" points="334,347.4312,338,357.4312,342,347.4312,338,351.4312" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="776.25" x2="1022.5" y1="335.4312" y2="335.4312"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1022.5" x2="1022.5" y1="335.4312" y2="357.4312"/><polygon fill="#A80036" points="1018.5,347.4312,1022.5,357.4312,1026.5,347.4312,1022.5,351.4312" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="1076.9658" y2="1094.9658"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="668.25" y1="1094.9658" y2="1094.9658"/><polygon fill="#A80036" points="658.25,1090.9658,668.25,1094.9658,658.25,1098.9658,662.25,1094.9658" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1022.5" x2="1022.5" y1="466.7676" y2="1094.9658"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1022.5" x2="692.25" y1="1094.9658" y2="1094.9658"/><polygon fill="#A80036" points="702.25,1090.9658,692.25,1094.9658,702.25,1098.9658,698.25,1094.9658" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="285.9229" y2="323.4312"/><polygon fill="#A80036" points="676.25,313.4312,680.25,323.4312,684.25,313.4312,680.25,317.4312" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="1106.9658" y2="1148.3647"/><polygon fill="#A80036" points="676.25,1138.3647,680.25,1148.3647,684.25,1138.3647,680.25,1142.3647" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="684.25" y="1128.2705">Return</text><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="1182.3335" y2="1202.3335"/><polygon fill="#A80036" points="676.25,1192.3335,680.25,1202.3335,684.25,1192.3335,680.25,1196.3335" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="680.25" x2="680.25" y1="1236.3022" y2="1256.3022"/><polygon fill="#A80036" points="676.25,1246.3022,680.25,1256.3022,684.25,1246.3022,680.25,1250.3022" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8e99bb4625f9b573b4331e50f6acc851]
@startuml 
start
->Timer0 interrupt routine;
:Push PSW;
:Select Register Bank 2;
-> Datas:
 - Bank2.Temp1 contains the address of bytes in Temp_Storage array
 - Bank2.Temp8 contains timer0/1 clock settings
 - Temp_Storage array contains the lo and hi parts of every bit
semicycle to be transmitted;
:Temp1- -;
if (Temp1 < &Temp_Storage - 1) then
  ->YES
  Increase Temp1 so it indexes an address
  inside the Temp_Storage array;
  :Temp1++;
  
  ->If last pulse is high, it is the last possitive semicycle,
  so telemetry sending is finished,
  otherwise wait for it to return to high;
  if (RTX_BIT == 1) then
    ->YES -> FINISH SENDING DATA BACK TO FC
    Configure RTX_PIN for digital input
    Set RTX_PIN output mode to open-drain;
    :RTX_MDOUT &= RTX_PIN_DISABLE_MASK;
    ->Set RTX_PIN to Float high;
    :setb RTX_BIT;
    ->Disable Timer0 interrupts;
    :clr IE_ET0;
    ->Restore regular DShot Timer0/1 clock settings;
    :CKCON0 = Temp8;
    -> Timer0/1 gated by Int0/1;
    :TMOD = 0AAh;
    ->Clear Int0 & Int1 pending flags;
    :clr TCON_IE0;
    :clr TCON_IE1;
    ->Mark that new telemetry packet may be created;
    :clr Flag_Telemetry_Pending;
  else
    ->NO -> PERFORM A TRANSITION
    Invert signal level;
    :complement RTX_BIT;
    ->Reload the timer to be triggered at the end of the bit semicycle;
    :Timer 0 Low Byte = *Temp1;
  endif
else
    ->NO -> PERFORM A TRANSITION
    Invert signal level;
    :complement RTX_BIT;
    ->Reload the timer to be triggered at the end of the bit semicycle;
    :Timer 0 Low Byte = *Temp1;
endif
	->Return;
    :Pop PSW;
    :reti;
stop
@enduml

PlantUML version 1.2021.5(Sun Apr 25 13:20:28 CEST 2021)
(EPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: es
Country: ES
--></g></svg>
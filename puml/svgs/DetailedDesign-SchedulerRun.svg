<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1716px" preserveAspectRatio="none" style="width:2404px;height:1716px;background:#FFFFFF;" version="1.1" viewBox="0 0 2404 1716" width="2404px" zoomAndPan="magnify"><defs/><g><ellipse cx="1216.5" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="38" x="1197.5" y="269.0552"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="18" x="1207.5" y="290.1938">ret</text><ellipse cx="1216.5" cy="342.5396" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1216.5" cy="342.5396" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="1144,225.0552,1289,225.0552,1301,237.0552,1289,249.0552,1144,249.0552,1132,237.0552,1144,225.0552" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="1144" y="240.8633">Flag_32ms_Elapsed == 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="1132.5" y="395.5396"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="1142.5" y="416.6782">Flag_32ms_Elapsed = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1110" y="449.5083"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193" x="1120" y="470.647">A = Scheduler_Counter &amp; 0x03</text><polygon fill="#F1F1F1" points="733,503.4771,773,503.4771,785,515.4771,773,527.4771,733,527.4771,721,515.4771,733,503.4771" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="757" y="537.6875">ms 32</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="733" y="519.2852">A == 1</text><polygon fill="#F1F1F1" points="50.5,687.3945,197.5,687.3945,209.5,699.3945,197.5,711.3945,50.5,711.3945,38.5,699.3945,50.5,687.3945" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="128" y="721.605">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="50.5" y="703.2026">ADC0L &lt; Temp_Prot_Limit</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="11" y="744.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="21" y="765.3379">Temp_Pwm_Level_Setpoint = 255</text><polygon fill="#F1F1F1" points="269,687.3945,551,687.3945,563,699.3945,551,711.3945,269,711.3945,257,699.3945,269,687.3945" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="414" y="721.605">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="282" x="269" y="703.2026">ADC0L &lt; Temp_Prot_Limit + TEMP_LIMIT_STEP / 2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="297" y="744.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="307" y="765.3379">Temp_Pwm_Level_Setpoint = 200</text><polygon fill="#F1F1F1" points="595,687.3945,898,687.3945,910,699.3945,898,711.3945,595,711.3945,583,699.3945,595,687.3945" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="750.5" y="721.605">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="595" y="703.2026">ADC0L &lt; Temp_Prot_Limit + 2 * TEMP_LIMIT_STEP / 2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="633.5" y="744.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="643.5" y="765.3379">Temp_Pwm_Level_Setpoint = 150</text><polygon fill="#F1F1F1" points="942,687.3945,1245,687.3945,1257,699.3945,1245,711.3945,942,711.3945,930,699.3945,942,687.3945" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="1097.5" y="721.605">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="942" y="703.2026">ADC0L &lt; Temp_Prot_Limit + 3 * TEMP_LIMIT_STEP / 2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="980.5" y="744.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="990.5" y="765.3379">Temp_Pwm_Level_Setpoint = 150</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="1277" y="740.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="198" x="1287" y="761.9355">Temp_Pwm_Level_Setpoint = 50</text><polygon fill="#F1F1F1" points="717.5,607.5898,788.5,607.5898,800.5,619.5898,788.5,631.5898,717.5,631.5898,705.5,619.5898,717.5,607.5898" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="757" y="641.8003">Temperature</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="757" y="654.605">above 25ºC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="717.5" y="623.3979">ADC0H == 0</text><polygon fill="#F1F1F1" points="753,851.9727,765,863.9727,753,875.9727,741,863.9727,753,851.9727" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="692.5,559.1875,813.5,559.1875,825.5,571.1875,813.5,583.1875,692.5,583.1875,680.5,571.1875,692.5,559.1875" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="757" y="593.3979">YES -&gt; Clear setpoint</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="692.5" y="574.9956">Temp_Prot_Limit != 0</text><polygon fill="#F1F1F1" points="753,900.375,765,912.375,753,924.375,741,912.375,753,900.375" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="1894.5,503.4771,1934.5,503.4771,1946.5,515.4771,1934.5,527.4771,1894.5,527.4771,1882.5,515.4771,1894.5,503.4771" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="1918.5" y="537.6875">ms 64</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="1894.5" y="519.2852">A == 2</text><polygon fill="#F1F1F1" points="1581,632.5898,1820,632.5898,1832,644.5898,1820,656.5898,1581,656.5898,1569,644.5898,1581,632.5898" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="1581" y="648.3979">Pwm_Limit == Temp_Pwm_Level_Setpoint</text><polygon fill="#F1F1F1" points="1864,632.5898,2094,632.5898,2106,644.5898,2094,656.5898,1864,656.5898,1852,644.5898,1864,632.5898" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="1864" y="648.3979">Pwm_Limit &gt; Temp_Pwm_Level_Setpoint</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1934" y="724.5898"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="1944" y="745.7285">Pwm_Limit--</text><polygon fill="#F1F1F1" points="1938.5,676.5898,2019.5,676.5898,2031.5,688.5898,2019.5,700.5898,1938.5,700.5898,1926.5,688.5898,1938.5,676.5898" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="1938.5" y="692.3979">Pwm_limit &gt; 0</text><polygon fill="#F1F1F1" points="1979,782.5586,1991,794.5586,1979,806.5586,1967,794.5586,1979,782.5586" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="2126" y="727.5898"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="2136" y="748.7285">Pwm_Limit++</text><polygon fill="#F1F1F1" points="2128,679.5898,2226,679.5898,2238,691.5898,2226,703.5898,2128,703.5898,2116,691.5898,2128,679.5898" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="2128" y="695.3979">Pwm_Limit &lt; 255</text><polygon fill="#F1F1F1" points="2177,785.5586,2189,797.5586,2177,809.5586,2165,797.5586,2177,785.5586" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="1854,559.1875,1975,559.1875,1987,571.1875,1975,583.1875,1854,583.1875,1842,571.1875,1854,559.1875" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="1918.5" y="593.3979">YES -&gt; Update PWM limit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="1854" y="574.9956">Temp_Prot_Limit != 0</text><polygon fill="#F1F1F1" points="1914.5,873.9609,1926.5,885.9609,1914.5,897.9609,1902.5,885.9609,1914.5,873.9609" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="2299,503.4771,2339,503.4771,2351,515.4771,2339,527.4771,2299,527.4771,2287,515.4771,2299,503.4771" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="2323" y="537.6875">ms 96</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="2299" y="519.2852">A == 3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="2275" y="559.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="2285" y="580.3262">Stop_Adc()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="2274" y="628.1563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="2284" y="649.2949">Start_Adc()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="1110.5" y="985.7739"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192" x="1120.5" y="1006.9126">A = Scheduler_Counter &amp; 0x1F</text><polygon fill="#F1F1F1" points="874.75,1095.4531,914.75,1095.4531,926.75,1107.4531,914.75,1119.4531,874.75,1119.4531,862.75,1107.4531,874.75,1095.4531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="898.75" y="1129.6636">ms 128</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="874.75" y="1111.2612">A == 4</text><polygon fill="#F1F1F1" points="859.25,1152.2578,930.25,1152.2578,942.25,1164.2578,930.25,1176.2578,859.25,1176.2578,847.25,1164.2578,859.25,1152.2578" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="859.25" y="1168.0659">ADC0H == 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="782.25" y="1161.6636">Below 25ºC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="942.25" y="1161.6636">Above 25ºC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="735.75" y="1186.2578"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="745.75" y="1207.3965">A = ADC0L - (255 - 20)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="788.25" y="1303.6289"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="798.25" y="1324.7676">A = 0</text><polygon fill="#F1F1F1" points="799.75,1255.2266,830.75,1255.2266,842.75,1267.2266,830.75,1279.2266,799.75,1279.2266,787.75,1267.2266,799.75,1255.2266" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="819.25" y="1289.437">clamp to 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="799.75" y="1271.0347">A &lt; 0</text><polygon fill="#F1F1F1" points="815.25,1362,827.25,1374,815.25,1386,803.25,1374,815.25,1362" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="914.75" y="1186.2578"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="924.75" y="1207.3965">A = ADC0L + 20</text><polygon fill="#F1F1F1" points="894.75,1392,906.75,1404,894.75,1416,882.75,1404,894.75,1392" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="822.75" y="1457.3989"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="832.75" y="1478.5376">Ext_Telemetry_L = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="810.25" y="1511.3677"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="820.25" y="1532.5063">Ext_Telemetry_H = 0x02</text><polygon fill="#F1F1F1" points="1132.25,1095.4531,1172.25,1095.4531,1184.25,1107.4531,1172.25,1119.4531,1132.25,1119.4531,1120.25,1107.4531,1132.25,1095.4531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="1156.25" y="1129.6636">ms 256</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="1156.25" y="1142.4683">Stub for debug 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="1132.25" y="1111.2612">A == 8</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="1069.25" y="1165.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="1079.25" y="1186.2012">Ext_Telemetry_L = 0x08</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1063.75" y="1234.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="1073.75" y="1255.1699">Ext_Telemetry_H = 0x088</text><polygon fill="#F1F1F1" points="1333.25,1095.4531,1380.25,1095.4531,1392.25,1107.4531,1380.25,1119.4531,1333.25,1119.4531,1321.25,1107.4531,1333.25,1095.4531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="1360.75" y="1129.6636">ms 384</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="1360.75" y="1142.4683">Stub for debug 1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="1333.25" y="1111.2612">A == 12</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="1273.75" y="1165.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="1283.75" y="1186.2012">Ext_Telemetry_L = 0x0A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1268.25" y="1234.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="1278.25" y="1255.1699">Ext_Telemetry_H = 0x0AA</text><polygon fill="#F1F1F1" points="1537.75,1095.4531,1584.75,1095.4531,1596.75,1107.4531,1584.75,1119.4531,1537.75,1119.4531,1525.75,1107.4531,1537.75,1095.4531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="1565.25" y="1129.6636">ms 512</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="1565.25" y="1142.4683">Stub for debug 2</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="1537.75" y="1111.2612">A == 16</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="1478.25" y="1165.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146" x="1488.25" y="1186.2012">Ext_Telemetry_L = 0x0C</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="177" x="1472.75" y="1234.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="1482.75" y="1255.1699">Ext_Telemetry_H = 0x0CC</text><polygon fill="#F1F1F1" points="1178.5,1039.7427,1254.5,1039.7427,1266.5,1051.7427,1254.5,1063.7427,1178.5,1063.7427,1166.5,1051.7427,1178.5,1039.7427" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="1220.5" y="1073.9531">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="1178.5" y="1055.5508">Flag_Ext_Tele</text><polygon fill="#F1F1F1" points="1216.5,1585.3364,1228.5,1597.3364,1216.5,1609.3364,1204.5,1597.3364,1216.5,1585.3364" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="38" x="1197.5" y="1629.3364"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="18" x="1207.5" y="1650.4751">ret</text><ellipse cx="1216.5" cy="1694.3052" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1216.5" cy="1694.3052" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="303.0239" y2="331.5396"/><polygon fill="#181818" points="1212.5,321.5396,1216.5,331.5396,1220.5,321.5396,1216.5,325.5396" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="249.0552" y2="269.0552"/><polygon fill="#181818" points="1212.5,259.0552,1216.5,269.0552,1220.5,259.0552,1216.5,263.0552" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301" x2="1313" y1="237.0552" y2="237.0552"/><polygon fill="#181818" points="1309,301.5396,1313,311.5396,1317,301.5396,1313,305.5396" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1313" x2="1313" y1="237.0552" y2="375.5396"/><line style="stroke:#181818;stroke-width:1.0;" x1="1313" x2="1216.5" y1="375.5396" y2="375.5396"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="375.5396" y2="395.5396"/><polygon fill="#181818" points="1212.5,385.5396,1216.5,395.5396,1220.5,385.5396,1216.5,389.5396" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="30" y2="225.0552"/><polygon fill="#181818" points="1212.5,215.0552,1216.5,225.0552,1220.5,215.0552,1216.5,219.0552" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="1220.5" y="51.3047">scheduler_run routine</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="1220.5" y="64.1094">Datas:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="389" x="1224.5" y="76.9141">- Flag_32ms_Elapsed - Flag triggered when 32ms elapses in timer 2</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="338" x="1224.5" y="89.7188">- Scheduler_Counter - Counter that increments every 32ms</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="1224.5" y="102.5234">- ADC0L - ADC0 Low Byte</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="1224.5" y="115.3281">- ADC0H - ADC0 High Byte</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="320" x="1224.5" y="128.1328">- Temp_Prot_Limit - Temperature protection limit setting</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="605" x="1224.5" y="140.9375">- Temp_Pwm_Level_Setpoint - Temperature protection pwm setpoint (changes depending on temperature)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="1224.5" y="153.7422">- Pwm_Limit - High Pwm limit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="428" x="1224.5" y="166.5469">- Flag_Ext_Tele - Indicates whether DSHOT command 13 has been received</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="845" x="1224.5" y="179.3516">- Ext_Telemetry_H - Extended Telemetry data high byte (when different to zero indicates there is extended telemetry data to send, besides edt type)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="305" x="1224.5" y="192.1563">- Ext_Telemetry_L - Extended Telemetry data low byte</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1220.5" y="204.9609"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="429.5083" y2="449.5083"/><polygon fill="#181818" points="1212.5,439.5083,1216.5,449.5083,1220.5,439.5083,1216.5,443.5083" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="124" x2="124" y1="711.3945" y2="744.1992"/><polygon fill="#181818" points="120,734.1992,124,744.1992,128,734.1992,124,738.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="124" x2="124" y1="778.168" y2="829.5586"/><polygon fill="#181818" points="120,819.5586,124,829.5586,128,819.5586,124,823.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="410" x2="410" y1="711.3945" y2="744.1992"/><polygon fill="#181818" points="406,734.1992,410,744.1992,414,734.1992,410,738.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="410" x2="410" y1="778.168" y2="829.5586"/><polygon fill="#181818" points="406,819.5586,410,829.5586,414,819.5586,410,823.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="746.5" x2="746.5" y1="711.3945" y2="744.1992"/><polygon fill="#181818" points="742.5,734.1992,746.5,744.1992,750.5,734.1992,746.5,738.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="746.5" x2="746.5" y1="778.168" y2="829.5586"/><polygon fill="#181818" points="742.5,819.5586,746.5,829.5586,750.5,819.5586,746.5,823.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1093.5" x2="1093.5" y1="711.3945" y2="744.1992"/><polygon fill="#181818" points="1089.5,734.1992,1093.5,744.1992,1097.5,734.1992,1093.5,738.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1093.5" x2="1093.5" y1="778.168" y2="829.5586"/><polygon fill="#181818" points="1089.5,819.5586,1093.5,829.5586,1097.5,819.5586,1093.5,823.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="209.5" x2="257" y1="699.3945" y2="699.3945"/><polygon fill="#181818" points="247,695.3945,257,699.3945,247,703.3945,251,699.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="583" y1="699.3945" y2="699.3945"/><polygon fill="#181818" points="573,695.3945,583,699.3945,573,703.3945,577,699.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910" x2="930" y1="699.3945" y2="699.3945"/><polygon fill="#181818" points="920,695.3945,930,699.3945,920,703.3945,924,699.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="631.5898" y2="662.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="124" y1="662.3945" y2="662.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="124" x2="124" y1="662.3945" y2="687.3945"/><polygon fill="#181818" points="120,677.3945,124,687.3945,128,677.3945,124,681.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1257" x2="1386" y1="699.3945" y2="699.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="1386" x2="1386" y1="699.3945" y2="740.7969"/><polygon fill="#181818" points="1382,730.7969,1386,740.7969,1390,730.7969,1386,734.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1386" x2="1386" y1="774.7656" y2="829.5586"/><polygon fill="#181818" points="1382,819.5586,1386,829.5586,1390,819.5586,1386,823.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="124" x2="1386" y1="829.5586" y2="829.5586"/><line style="stroke:#181818;stroke-width:1.0;" x1="800.5" x2="1505" y1="619.5898" y2="619.5898"/><polygon fill="#181818" points="1501,747.7813,1505,757.7813,1509,747.7813,1505,751.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1505" x2="1505" y1="619.5898" y2="863.9727"/><line style="stroke:#181818;stroke-width:1.0;" x1="1505" x2="765" y1="863.9727" y2="863.9727"/><polygon fill="#181818" points="775,859.9727,765,863.9727,775,867.9727,771,863.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="829.5586" y2="851.9727"/><polygon fill="#181818" points="749,841.9727,753,851.9727,757,841.9727,753,845.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="583.1875" y2="607.5898"/><polygon fill="#181818" points="749,597.5898,753,607.5898,757,597.5898,753,601.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="825.5" x2="1527" y1="571.1875" y2="571.1875"/><polygon fill="#181818" points="1523,747.7813,1527,757.7813,1531,747.7813,1527,751.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1527" x2="1527" y1="571.1875" y2="912.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1527" x2="765" y1="912.375" y2="912.375"/><polygon fill="#181818" points="775,908.375,765,912.375,775,916.375,771,912.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="875.9727" y2="900.375"/><polygon fill="#181818" points="749,890.375,753,900.375,757,890.375,753,894.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="700.5898" y2="724.5898"/><polygon fill="#181818" points="1975,714.5898,1979,724.5898,1983,714.5898,1979,718.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2031.5" x2="2043.5" y1="688.5898" y2="688.5898"/><polygon fill="#181818" points="2039.5,731.5742,2043.5,741.5742,2047.5,731.5742,2043.5,735.5742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2043.5" x2="2043.5" y1="688.5898" y2="794.5586"/><line style="stroke:#181818;stroke-width:1.0;" x1="2043.5" x2="1991" y1="794.5586" y2="794.5586"/><polygon fill="#181818" points="2001,790.5586,1991,794.5586,2001,798.5586,1997,794.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="758.5586" y2="782.5586"/><polygon fill="#181818" points="1975,772.5586,1979,782.5586,1983,772.5586,1979,776.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2177" x2="2177" y1="703.5898" y2="727.5898"/><polygon fill="#181818" points="2173,717.5898,2177,727.5898,2181,717.5898,2177,721.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2238" x2="2250" y1="691.5898" y2="691.5898"/><polygon fill="#181818" points="2246,734.5742,2250,744.5742,2254,734.5742,2250,738.5742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2250" x2="2250" y1="691.5898" y2="797.5586"/><line style="stroke:#181818;stroke-width:1.0;" x1="2250" x2="2189" y1="797.5586" y2="797.5586"/><polygon fill="#181818" points="2199,793.5586,2189,797.5586,2199,801.5586,2195,797.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2177" x2="2177" y1="761.5586" y2="785.5586"/><polygon fill="#181818" points="2173,775.5586,2177,785.5586,2181,775.5586,2177,779.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1700.5" x2="1700.5" y1="656.5898" y2="849.5586"/><polygon fill="#181818" points="1696.5,839.5586,1700.5,849.5586,1704.5,839.5586,1700.5,843.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="656.5898" y2="676.5898"/><polygon fill="#181818" points="1975,666.5898,1979,676.5898,1983,666.5898,1979,670.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="1979" y1="806.5586" y2="849.5586"/><polygon fill="#181818" points="1975,839.5586,1979,849.5586,1983,839.5586,1979,843.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1832" x2="1852" y1="644.5898" y2="644.5898"/><polygon fill="#181818" points="1842,640.5898,1852,644.5898,1842,648.5898,1846,644.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1914.5" x2="1914.5" y1="583.1875" y2="607.5898"/><line style="stroke:#181818;stroke-width:1.0;" x1="1914.5" x2="1700.5" y1="607.5898" y2="607.5898"/><line style="stroke:#181818;stroke-width:1.0;" x1="1700.5" x2="1700.5" y1="607.5898" y2="632.5898"/><polygon fill="#181818" points="1696.5,622.5898,1700.5,632.5898,1704.5,622.5898,1700.5,626.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2106" x2="2177" y1="644.5898" y2="644.5898"/><line style="stroke:#181818;stroke-width:1.0;" x1="2177" x2="2177" y1="644.5898" y2="679.5898"/><polygon fill="#181818" points="2173,669.5898,2177,679.5898,2181,669.5898,2177,673.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2177" x2="2177" y1="809.5586" y2="849.5586"/><polygon fill="#181818" points="2173,839.5586,2177,849.5586,2181,839.5586,2177,843.5586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1700.5" x2="2177" y1="849.5586" y2="849.5586"/><line style="stroke:#181818;stroke-width:1.0;" x1="1987" x2="2260" y1="571.1875" y2="571.1875"/><polygon fill="#181818" points="2256,734.5742,2260,744.5742,2264,734.5742,2260,738.5742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2260" x2="2260" y1="571.1875" y2="885.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="2260" x2="1926.5" y1="885.9609" y2="885.9609"/><polygon fill="#181818" points="1936.5,881.9609,1926.5,885.9609,1936.5,889.9609,1932.5,885.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1914.5" x2="1914.5" y1="849.5586" y2="873.9609"/><polygon fill="#181818" points="1910.5,863.9609,1914.5,873.9609,1918.5,863.9609,1914.5,867.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2319" x2="2319" y1="593.1563" y2="628.1563"/><polygon fill="#181818" points="2315,618.1563,2319,628.1563,2323,618.1563,2319,622.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="527.4771" y2="559.1875"/><polygon fill="#181818" points="749,549.1875,753,559.1875,757,549.1875,753,553.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="924.375" y2="944.375"/><polygon fill="#181818" points="749,934.375,753,944.375,757,934.375,753,938.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1914.5" x2="1914.5" y1="527.4771" y2="559.1875"/><polygon fill="#181818" points="1910.5,549.1875,1914.5,559.1875,1918.5,549.1875,1914.5,553.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1914.5" x2="1914.5" y1="897.9609" y2="944.375"/><polygon fill="#181818" points="1910.5,934.375,1914.5,944.375,1918.5,934.375,1914.5,938.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2319" x2="2319" y1="527.4771" y2="559.1875"/><polygon fill="#181818" points="2315,549.1875,2319,559.1875,2323,549.1875,2319,553.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2319" x2="2319" y1="662.125" y2="944.375"/><polygon fill="#181818" points="2315,934.375,2319,944.375,2323,934.375,2319,938.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="785" x2="1882.5" y1="515.4771" y2="515.4771"/><polygon fill="#181818" points="1872.5,511.4771,1882.5,515.4771,1872.5,519.4771,1876.5,515.4771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1946.5" x2="2287" y1="515.4771" y2="515.4771"/><polygon fill="#181818" points="2277,511.4771,2287,515.4771,2277,519.4771,2281,515.4771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="483.4771" y2="488.4771"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="753" y1="488.4771" y2="488.4771"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="753" y1="488.4771" y2="503.4771"/><polygon fill="#181818" points="749,493.4771,753,503.4771,757,493.4771,753,497.4771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2351" x2="2378" y1="515.4771" y2="515.4771"/><line style="stroke:#181818;stroke-width:1.0;" x1="2378" x2="2378" y1="515.4771" y2="944.375"/><polygon fill="#181818" points="2374,934.375,2378,944.375,2382,934.375,2378,938.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753" x2="2378" y1="944.375" y2="944.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="944.375" y2="985.7739"/><polygon fill="#181818" points="1212.5,975.7739,1216.5,985.7739,1220.5,975.7739,1216.5,979.7739" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="1220.5" y="965.6797">1024ms scheduler</text><line style="stroke:#181818;stroke-width:1.0;" x1="815.25" x2="815.25" y1="1279.2266" y2="1303.6289"/><polygon fill="#181818" points="811.25,1293.6289,815.25,1303.6289,819.25,1293.6289,815.25,1297.6289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="842.75" x2="854.75" y1="1267.2266" y2="1267.2266"/><polygon fill="#181818" points="850.75,1310.6133,854.75,1320.6133,858.75,1310.6133,854.75,1314.6133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="854.75" x2="854.75" y1="1267.2266" y2="1374"/><line style="stroke:#181818;stroke-width:1.0;" x1="854.75" x2="827.25" y1="1374" y2="1374"/><polygon fill="#181818" points="837.25,1370,827.25,1374,837.25,1378,833.25,1374" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.25" x2="815.25" y1="1337.5977" y2="1362"/><polygon fill="#181818" points="811.25,1352,815.25,1362,819.25,1352,815.25,1356" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.25" x2="815.25" y1="1220.2266" y2="1255.2266"/><polygon fill="#181818" points="811.25,1245.2266,815.25,1255.2266,819.25,1245.2266,815.25,1249.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.25" x2="815.25" y1="1164.2578" y2="1164.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.25" x2="815.25" y1="1164.2578" y2="1186.2578"/><polygon fill="#181818" points="811.25,1176.2578,815.25,1186.2578,819.25,1176.2578,815.25,1180.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="942.25" x2="974.25" y1="1164.2578" y2="1164.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.25" x2="974.25" y1="1164.2578" y2="1186.2578"/><polygon fill="#181818" points="970.25,1176.2578,974.25,1186.2578,978.25,1176.2578,974.25,1180.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.25" x2="815.25" y1="1386" y2="1404"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.25" x2="882.75" y1="1404" y2="1404"/><polygon fill="#181818" points="872.75,1400,882.75,1404,872.75,1408,876.75,1404" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.25" x2="974.25" y1="1220.2266" y2="1404"/><line style="stroke:#181818;stroke-width:1.0;" x1="974.25" x2="906.75" y1="1404" y2="1404"/><polygon fill="#181818" points="916.75,1400,906.75,1404,916.75,1408,912.75,1404" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.75" x2="894.75" y1="1416" y2="1457.3989"/><polygon fill="#181818" points="890.75,1447.3989,894.75,1457.3989,898.75,1447.3989,894.75,1451.3989" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="898.75" y="1437.3047">Put telemetry for sending</text><line style="stroke:#181818;stroke-width:1.0;" x1="894.75" x2="894.75" y1="1491.3677" y2="1511.3677"/><polygon fill="#181818" points="890.75,1501.3677,894.75,1511.3677,898.75,1501.3677,894.75,1505.3677" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152.25" x2="1152.25" y1="1199.0313" y2="1234.0313"/><polygon fill="#181818" points="1148.25,1224.0313,1152.25,1234.0313,1156.25,1224.0313,1152.25,1228.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1356.75" x2="1356.75" y1="1199.0313" y2="1234.0313"/><polygon fill="#181818" points="1352.75,1224.0313,1356.75,1234.0313,1360.75,1224.0313,1356.75,1228.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1561.25" x2="1561.25" y1="1199.0313" y2="1234.0313"/><polygon fill="#181818" points="1557.25,1224.0313,1561.25,1234.0313,1565.25,1224.0313,1561.25,1228.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.75" x2="894.75" y1="1119.4531" y2="1152.2578"/><polygon fill="#181818" points="890.75,1142.2578,894.75,1152.2578,898.75,1142.2578,894.75,1146.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.75" x2="894.75" y1="1545.3364" y2="1565.3364"/><polygon fill="#181818" points="890.75,1555.3364,894.75,1565.3364,898.75,1555.3364,894.75,1559.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152.25" x2="1152.25" y1="1119.4531" y2="1165.0625"/><polygon fill="#181818" points="1148.25,1155.0625,1152.25,1165.0625,1156.25,1155.0625,1152.25,1159.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152.25" x2="1152.25" y1="1268" y2="1565.3364"/><polygon fill="#181818" points="1148.25,1555.3364,1152.25,1565.3364,1156.25,1555.3364,1152.25,1559.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1356.75" x2="1356.75" y1="1119.4531" y2="1165.0625"/><polygon fill="#181818" points="1352.75,1155.0625,1356.75,1165.0625,1360.75,1155.0625,1356.75,1159.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1356.75" x2="1356.75" y1="1268" y2="1565.3364"/><polygon fill="#181818" points="1352.75,1555.3364,1356.75,1565.3364,1360.75,1555.3364,1356.75,1559.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1561.25" x2="1561.25" y1="1119.4531" y2="1165.0625"/><polygon fill="#181818" points="1557.25,1155.0625,1561.25,1165.0625,1565.25,1155.0625,1561.25,1159.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1561.25" x2="1561.25" y1="1268" y2="1565.3364"/><polygon fill="#181818" points="1557.25,1555.3364,1561.25,1565.3364,1565.25,1555.3364,1561.25,1559.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="926.75" x2="1120.25" y1="1107.4531" y2="1107.4531"/><polygon fill="#181818" points="1110.25,1103.4531,1120.25,1107.4531,1110.25,1111.4531,1114.25,1107.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1184.25" x2="1321.25" y1="1107.4531" y2="1107.4531"/><polygon fill="#181818" points="1311.25,1103.4531,1321.25,1107.4531,1311.25,1111.4531,1315.25,1107.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1392.25" x2="1525.75" y1="1107.4531" y2="1107.4531"/><polygon fill="#181818" points="1515.75,1103.4531,1525.75,1107.4531,1515.75,1111.4531,1519.75,1107.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="1063.7427" y2="1080.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="894.75" y1="1080.4531" y2="1080.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.75" x2="894.75" y1="1080.4531" y2="1095.4531"/><polygon fill="#181818" points="890.75,1085.4531,894.75,1095.4531,898.75,1085.4531,894.75,1089.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1596.75" x2="1692.25" y1="1107.4531" y2="1107.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="1692.25" x2="1692.25" y1="1107.4531" y2="1565.3364"/><polygon fill="#181818" points="1688.25,1555.3364,1692.25,1565.3364,1696.25,1555.3364,1692.25,1559.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894.75" x2="1692.25" y1="1565.3364" y2="1565.3364"/><line style="stroke:#181818;stroke-width:1.0;" x1="1266.5" x2="1717.25" y1="1051.7427" y2="1051.7427"/><polygon fill="#181818" points="1713.25,1346.0977,1717.25,1356.0977,1721.25,1346.0977,1717.25,1350.0977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1717.25" x2="1717.25" y1="1051.7427" y2="1597.3364"/><line style="stroke:#181818;stroke-width:1.0;" x1="1717.25" x2="1228.5" y1="1597.3364" y2="1597.3364"/><polygon fill="#181818" points="1238.5,1593.3364,1228.5,1597.3364,1238.5,1601.3364,1234.5,1597.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="1565.3364" y2="1585.3364"/><polygon fill="#181818" points="1212.5,1575.3364,1216.5,1585.3364,1220.5,1575.3364,1216.5,1579.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="1019.7427" y2="1039.7427"/><polygon fill="#181818" points="1212.5,1029.7427,1216.5,1039.7427,1220.5,1029.7427,1216.5,1033.7427" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="1609.3364" y2="1629.3364"/><polygon fill="#181818" points="1212.5,1619.3364,1216.5,1629.3364,1220.5,1619.3364,1216.5,1623.3364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="1663.3052" y2="1683.3052"/><polygon fill="#181818" points="1212.5,1673.3052,1216.5,1683.3052,1220.5,1673.3052,1216.5,1677.3052" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[50a0f6791a4280b65e2cc7ca298f8c76]
@startuml 
start
->scheduler_run routine
Datas:
 - Flag_32ms_Elapsed - Flag triggered when 32ms elapses in timer 2
 - Scheduler_Counter - Counter that increments every 32ms
 - ADC0L - ADC0 Low Byte
 - ADC0H - ADC0 High Byte
 - Temp_Prot_Limit - Temperature protection limit setting
 - Temp_Pwm_Level_Setpoint - Temperature protection pwm setpoint (changes depending on temperature)
 - Pwm_Limit - High Pwm limit
 - Flag_Ext_Tele - Indicates whether DSHOT command 13 has been received
 - Ext_Telemetry_H - Extended Telemetry data high byte (when different to zero indicates there is extended telemetry data to send, besides edt type)
 - Ext_Telemetry_L - Extended Telemetry data low byte
 ;
if (Flag_32ms_Elapsed == 0) then
  :ret;
  stop
endif
:Flag_32ms_Elapsed = 0;
:A = Scheduler_Counter & 0x03;
if (A == 1) then (ms 32)
  if (Temp_Prot_Limit != 0) then
  	->YES -> Clear setpoint;
    if (ADC0H == 0) then
      ->Temperature
      above 25ºC;
      if (ADC0L < Temp_Prot_Limit) then (yes)
	    :Temp_Pwm_Level_Setpoint = 255;
      else if (ADC0L < Temp_Prot_Limit + TEMP_LIMIT_STEP / 2) then (yes)
	    :Temp_Pwm_Level_Setpoint = 200;
      else if (ADC0L < Temp_Prot_Limit + 2 * TEMP_LIMIT_STEP / 2) then (yes)
	    :Temp_Pwm_Level_Setpoint = 150;
      else if (ADC0L < Temp_Prot_Limit + 3 * TEMP_LIMIT_STEP / 2) then (yes)
	    :Temp_Pwm_Level_Setpoint = 150;
      else
	    :Temp_Pwm_Level_Setpoint = 50;
      endif
    else
    endif
  endif
else if (A == 2) then (ms 64)
  if (Temp_Prot_Limit != 0) then
  	->YES -> Update PWM limit;
  	if (Pwm_Limit == Temp_Pwm_Level_Setpoint) then
  	else if (Pwm_Limit > Temp_Pwm_Level_Setpoint) then
  	  if (Pwm_limit > 0) then
  	    :Pwm_Limit- -;
  	  endif
  	else
  	  if (Pwm_Limit < 255) then
  	    :Pwm_Limit++;
  	  endif
  	endif
  endif
else if (A == 3) then (ms 96)
  :Stop_Adc();
  :Start_Adc();
endif
->1024ms scheduler;
:A = Scheduler_Counter & 0x1F;
if (Flag_Ext_Tele) then (yes)
  if (A == 4) then (ms 128)
    if (ADC0H == 0) then
      ->Below 25ºC;
      :A = ADC0L - (255 - 20);
      if (A < 0) then (clamp to 0)
        :A = 0;
      endif
    else
      ->Above 25ºC;
      :A = ADC0L + 20; 
    endif
    ->Put telemetry for sending;
    :Ext_Telemetry_L = A;
    :Ext_Telemetry_H = 0x02;
  else if (A == 8) then (ms 256)
  	->ms 256
  	Stub for debug 0;
    :Ext_Telemetry_L = 0x08;
    :Ext_Telemetry_H = 0x088;
  else if (A == 12) then ()
  	->ms 384
  	Stub for debug 1;
    :Ext_Telemetry_L = 0x0A;
    :Ext_Telemetry_H = 0x0AA;
  else if (A == 16) then (ms 512)
  	->ms 512
  	Stub for debug 2;
    :Ext_Telemetry_L = 0x0C;
    :Ext_Telemetry_H = 0x0CC;
  endif
endif
:ret;
stop
@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>
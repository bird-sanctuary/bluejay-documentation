<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="17107px" preserveAspectRatio="none" style="width:1274px;height:17107px;background:#FFFFFF;" version="1.1" viewBox="0 0 1274 17107" width="1274px" zoomAndPan="magnify"><defs/><g><ellipse cx="494" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="454.5" y="199.4458"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="464.5" y="220.5845">clr IE_EX0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="443.5" y="274.8135"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="453.5" y="295.9521">clr TCON_TR1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="203" x="392.5" y="350.1812"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="183" x="402.5" y="371.3198">mov TL1, DShot_Timer_Preset</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="453" y="425.5488"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="463" y="446.6875">push PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="439" y="479.5176"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="449" y="500.6563">mov PSW, #8h</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="454.5" y="533.4863"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="59" x="464.5" y="554.625">push ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="462.5" y="587.4551"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="43" x="472.5" y="608.5938">push B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="431" y="701.2368"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="441" y="722.3755">clr TMR2CN0_TR2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="434.5" y="755.2056"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="444.5" y="776.3442">Temp2 = TMR2L</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="433" y="809.1743"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="443" y="830.313">Temp3 = TMR2H</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="424.5" y="863.1431"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="434.5" y="884.2817">setb TMR2CN0_TR2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="386" y="938.5107"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196" x="396" y="959.6494">Temp2 -= DShot_Frame_Start_L</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="1080.9053"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="1102.0439">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="1156.2729"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="1177.4116">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="1210.2417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="1231.3804">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="1264.2104"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="1285.3491">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="1318.1792"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="1339.3179">reti</text><ellipse cx="494" cy="1383.1479" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="1383.1479" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="365,992.4795,623,992.4795,635,1018.0889,623,1043.6982,365,1043.6982,353,1018.0889,365,992.4795" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="498" y="1053.9087">yes -&gt; Frame too long or</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="498" y="1066.7134">frame too short or</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="498" y="1079.5181">rx pointer != 16</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="203" x="365" y="1002.6899">(Temp3 != DShot_Frame_Start_H) ||</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221" x="381" y="1015.4946">(Temp2 &lt; DShot_Frame_Length_Thr) ||</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="242" x="381" y="1028.2993">(Temp2 &gt; 2 * DShot_Frame_Length_Thr) ||</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="381" y="1041.104">(Temp1 != 16)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="1470.3516"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="1491.4902">Temp1 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="405" y="1545.7192"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="415" y="1566.8579">Temp2 = DShot_Pwm_Thr</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="1621.0869"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="1642.2256">Temp6 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="1740.4546"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="1761.5933">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="1815.8223"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="1836.9609">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="1869.791"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="1890.9297">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="1925.873"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="1947.0117">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="1979.8418"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="2000.9805">reti</text><ellipse cx="494" cy="2044.8105" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="2044.8105" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,1696.4546,586.5,1696.4546,598.5,1708.4546,586.5,1720.4546,401.5,1720.4546,389.5,1708.4546,401.5,1696.4546" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="1712.2627">NOT Decode_DShot_2Bit(Temp5)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="2141.8105"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="2162.9492">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="2217.1782"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="2238.3169">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="2271.147"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="2292.2856">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="2327.229"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="2348.3677">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="2381.1978"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="2402.3364">reti</text><ellipse cx="494" cy="2446.1665" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="2446.1665" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,2097.8105,586.5,2097.8105,598.5,2109.8105,586.5,2121.8105,401.5,2121.8105,389.5,2109.8105,401.5,2097.8105" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="2113.6187">NOT Decode_DShot_2Bit(Temp5)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="2568.9678"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="2590.1064">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="2644.3354"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="2665.4741">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="2698.3042"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="2719.4429">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="2754.3862"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="2775.5249">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="2808.355"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="2829.4937">reti</text><ellipse cx="494" cy="2873.3237" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="2873.3237" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,2520.5654,586.5,2520.5654,598.5,2532.5654,586.5,2544.5654,401.5,2544.5654,389.5,2532.5654,401.5,2520.5654" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="2554.7759">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="2536.3735">NOT Decode_DShot_2Bit(Temp4)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="2974.7261"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="2995.8647">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="3050.0938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="3071.2324">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="3104.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="3125.2012">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="3160.1445"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="3181.2832">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="3214.1133"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="3235.252">reti</text><ellipse cx="494" cy="3279.082" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="3279.082" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,2926.3237,586.5,2926.3237,598.5,2938.3237,586.5,2950.3237,401.5,2950.3237,389.5,2938.3237,401.5,2926.3237" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="2960.5342">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="2942.1318">NOT Decode_DShot_2Bit(Temp4)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="3380.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="3401.623">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="3455.8521"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="3476.9907">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="3509.8208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="3530.9595">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="3565.9028"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="3587.0415">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="3619.8716"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="3641.0103">reti</text><ellipse cx="494" cy="3684.8403" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="3684.8403" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,3332.082,586.5,3332.082,598.5,3344.082,586.5,3356.082,401.5,3356.082,389.5,3344.082,401.5,3332.082" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="3366.2925">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="3347.8901">NOT Decode_DShot_2Bit(Temp4)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="3786.2427"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="3807.3813">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="3861.6104"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="3882.749">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="3915.5791"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="3936.7178">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="3971.6611"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="3992.7998">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="4025.6299"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="4046.7686">reti</text><ellipse cx="494" cy="4090.5986" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="4090.5986" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,3737.8403,586.5,3737.8403,598.5,3749.8403,586.5,3761.8403,401.5,3761.8403,389.5,3749.8403,401.5,3737.8403" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="3772.0508">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="3753.6484">NOT Decode_DShot_2Bit(Temp4)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="4213.3999"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="4234.5386">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="4288.7676"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="4309.9063">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="4342.7363"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="4363.875">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="4398.8184"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="4419.957">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="4452.7871"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="4473.9258">reti</text><ellipse cx="494" cy="4517.7559" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="4517.7559" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,4164.9976,586.5,4164.9976,598.5,4176.9976,586.5,4188.9976,401.5,4188.9976,389.5,4176.9976,401.5,4164.9976" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="4199.208">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="4180.8057">NOT Decode_DShot_2Bit(Temp3)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="4619.1582"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="4640.2969">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="4694.5259"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="4715.6646">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="4748.4946"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="4769.6333">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="4804.5767"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="4825.7153">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="4858.5454"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="4879.6841">reti</text><ellipse cx="494" cy="4923.5142" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="4923.5142" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="401.5,4570.7559,586.5,4570.7559,598.5,4582.7559,586.5,4594.7559,401.5,4594.7559,389.5,4582.7559,401.5,4570.7559" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="4604.9663">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="401.5" y="4586.564">NOT Decode_DShot_2Bit(Temp3)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="5036.3271"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="5057.4658">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="5090.2959"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="5111.4346">swap A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="5144.2646"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="449" y="5165.4033">A = A ^ Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="5198.2334"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="449" y="5219.3721">A = A ^ Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="5252.2021"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="449" y="5273.3408">A = A ^ Temp3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="5354.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="5375.7119">A = ~A</text><polygon fill="#F1F1F1" points="423.5,5306.1709,564.5,5306.1709,576.5,5318.1709,564.5,5330.1709,423.5,5330.1709,411.5,5318.1709,423.5,5306.1709" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="498" y="5340.3813">yes -&gt; Invert A</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="423.5" y="5321.979">Flag_Rcp_DShot_Inverted</text><polygon fill="#F1F1F1" points="494,5408.542,506,5420.542,494,5432.542,482,5420.542,494,5408.542" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="445" y="5452.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="455" y="5473.6807">A = A &amp; 0x0f</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="435" y="5554.9131"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="445" y="5576.0518">OutsideRange()</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="5630.2808"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="5651.4194">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="5684.2495"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="5705.3882">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="5740.3315"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="5761.4702">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="5794.3003"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="5815.439">reti</text><ellipse cx="494" cy="5859.269" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="5859.269" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="477,5506.5107,511,5506.5107,523,5518.5107,511,5530.5107,477,5530.5107,465,5518.5107,477,5506.5107" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="498" y="5540.7212">yes -&gt; crc doesn't match</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="477" y="5522.3188">A != 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="5933.668"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="5954.8066">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="5987.6367"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="6008.7754">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6063.0044"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6084.1431">Temp3 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="461" y="6116.9731"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="46" x="471" y="6138.1118">A -= 96</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6205.1455"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6226.2842">Temp4 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6259.1143"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6280.2529">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="6313.083"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="6334.2217">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="451.5" y="6367.0518"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65" x="461.5" y="6388.1904">A &amp;= 0x0F</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="411.5" y="6421.0205"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="421.5" y="6442.1592">A = A - (0 + CARRY_BIT)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6474.9893"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6496.1279">Temp5 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6577.3604"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6598.499">A = Temp3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6631.3291"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6652.4678">Temp4 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="6685.2979"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="6706.4365">Temp5 = 0</text><polygon fill="#F1F1F1" points="474,6739.2666,514,6739.2666,526,6751.2666,514,6763.2666,474,6763.2666,462,6751.2666,474,6739.2666" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="474" y="6755.0747">A == 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="202" y="6748.6724">yes -&gt; Clear current ongoing command if any</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="526" y="6748.6724">no -&gt; Check carry is correct</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="156" y="6773.2666"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="166" y="6794.4053">DShot_Cmd = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="142.5" y="6827.2354"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="152.5" y="6848.374">DShot_Cmd_Cnt = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="719" y="6773.2666"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="729" y="6794.4053">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="728.5" y="6827.2354"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="738.5" y="6848.374">A = A &gt;&gt; 1</text><polygon fill="#F1F1F1" points="332,6904.0088,425,6904.0088,437,6916.0088,425,6928.0088,332,6928.0088,320,6916.0088,332,6904.0088" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="320" x="382.5" y="6938.2192">yes -&gt; Carry bit is incorrect. Incorrect DSHOT command</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="332" y="6919.8169">CARRY_BIT == 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="320" y="6959.7192"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="330" y="6980.8579">DShot_Cmd = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="306.5" y="7028.688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="316.5" y="7049.8267">DShot_Cmd_Cnt = 0</text><polygon fill="#F1F1F1" points="744,6904.0088,837,6904.0088,849,6916.0088,837,6928.0088,744,6928.0088,732,6916.0088,744,6904.0088" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="292" x="794.5" y="6938.2192">yes -&gt; New command different to the previous one</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="744" y="6919.8169">A != DShot_Cmd</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="849" y="6913.4146">no -&gt; Same command as previous one</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="732" y="6959.7192"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="742" y="6980.8579">DShot_Cmd = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="718.5" y="7028.688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="728.5" y="7049.8267">DShot_Cmd_Cnt = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="1096.5" y="6990.8013"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="118" x="1106.5" y="7011.9399">DShot_Cmd_Cnt++</text><polygon fill="#F1F1F1" points="494,7088.6567,506,7100.6567,494,7112.6567,482,7100.6567,494,7088.6567" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="435.5,6528.958,552.5,6528.958,564.5,6540.958,552.5,6552.958,435.5,6552.958,423.5,6540.958,435.5,6528.958" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="498" y="6563.1685">yes -&gt; DSHOT command range</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="435.5" y="6544.7661">Temp5::Temp4 &lt; 96</text><polygon fill="#F1F1F1" points="494,7132.6567,506,7144.6567,494,7156.6567,482,7144.6567,494,7132.6567" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="439.5" y="7246.458"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="449.5" y="7267.5967">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="7300.4268"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="7321.5654">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="453.5" y="7354.3955"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="463.5" y="7375.5342">A -= 0xD0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="467" y="7408.3643"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="477" y="7429.5029">B = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="7462.333"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="7483.4717">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="454" y="7516.3018"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="464" y="7537.4404">A -= 0x07</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="7640.0718"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="7661.2104">Temp5 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="7709.0405"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="7730.1792">Temp4 = B</text><polygon fill="#F1F1F1" points="460,7591.6694,528,7591.6694,540,7603.6694,528,7615.6694,460,7615.6694,448,7603.6694,460,7591.6694" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="498" y="7625.8799">yes -&gt; Use substracted value</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="460" y="7607.4775">A::B &gt; 2000</text><polygon fill="#F1F1F1" points="494,7763.0093,506,7775.0093,494,7787.0093,482,7775.0093,494,7763.0093" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="407" y="7876.8105"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="417" y="7897.9492">CARRY_BIT = ~CARRY_BIT</text><polygon fill="#F1F1F1" points="426.5,7828.4082,561.5,7828.4082,573.5,7840.4082,561.5,7852.4082,426.5,7852.4082,414.5,7840.4082,426.5,7828.4082" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="498" y="7862.6187">yes -&gt; Reverse direction</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="426.5" y="7844.2163">Flag_Pgm_Dir_Rev == 1</text><polygon fill="#F1F1F1" points="494,7930.7793,506,7942.7793,494,7954.7793,482,7942.7793,494,7930.7793" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="390.5" y="7974.7793"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="187" x="400.5" y="7995.918">Flag_Rcp_Dir_Rev = CARRY_BIT</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="439.5" y="8050.147"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="449.5" y="8071.2856">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="415" y="8104.1157"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="425" y="8125.2544">Temp4 = Temp4 &lt;&lt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="415" y="8158.0845"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="425" y="8179.2231">Temp5 = Temp5 &lt;&lt; 1</text><polygon fill="#F1F1F1" points="434.5,7198.0557,553.5,7198.0557,565.5,7210.0557,553.5,7222.0557,434.5,7222.0557,422.5,7210.0557,434.5,7198.0557" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="498" y="7232.2661">yes -&gt; substract 2000 still 12bit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="434.5" y="7213.8638">Flag_Pgm_Bidir == 1</text><polygon fill="#F1F1F1" points="494,8212.0532,506,8224.0532,494,8236.0532,482,8224.0532,494,8212.0532" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="8277.4521"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="8298.5908">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="443.5" y="8331.4209"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="453.5" y="8352.5596">A = A &amp; 0xF0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="440" y="8385.3896"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="450" y="8406.5283">A = A | Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="8439.3584"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="8460.4971">swap A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="467" y="8493.3271"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="477" y="8514.4658">B = 5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="457" y="8547.2959"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54" x="467" y="8568.4346">A = A / B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="8622.6636"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="8643.8022">Temp3 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="439.5" y="8698.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="449.5" y="8719.1699">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="415" y="8752"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="425" y="8773.1387">Temp5 = Temp5 &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="8805.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="8827.1074">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="449" y="8859.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="459" y="8881.0762">A = A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="445" y="8913.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="455" y="8935.0449">A += Temp3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="8967.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="8989.0137">Temp4 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="9021.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="9042.9824">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="408.5" y="9075.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="418.5" y="9096.9512">A = A + (0 + CARRY_BIT)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="9129.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="9150.9199">Temp5 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="440" y="9253.5513"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="450" y="9274.6899">Temp4 = 0xFF</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="439" y="9322.52"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="449" y="9343.6587">Temp5 = 0x07</text><polygon fill="#F1F1F1" points="455.5,9205.1489,532.5,9205.1489,544.5,9217.1489,532.5,9229.1489,455.5,9229.1489,443.5,9217.1489,455.5,9205.1489" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="498" y="9239.3594">yes - limit to 11 bit maximum</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="455.5" y="9220.957">Temp5.3 != 0</text><polygon fill="#F1F1F1" points="494,9376.4888,506,9388.4888,494,9400.4888,482,9388.4888,494,9376.4888" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="203" x="392.5" y="9517.2935"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="183" x="402.5" y="9538.4321">B = *Pgm_Startup_Power_Min</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="439.5" y="9592.6611"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="449.5" y="9613.7998">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="9646.6299"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="9667.7686">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="465" y="9704.1807"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="38" x="475" y="9725.3193">A -= B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="467" y="9827.9507"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="477" y="9849.0894">A = B</text><polygon fill="#F1F1F1" points="447.5,9779.5483,540.5,9779.5483,552.5,9791.5483,540.5,9803.5483,447.5,9803.5483,435.5,9791.5483,447.5,9779.5483" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="498" y="9813.7588">yes -&gt; Set A = *Pgm_Startup_Power_Min</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="447.5" y="9795.3564">CARRY_BIT == 1</text><polygon fill="#F1F1F1" points="494,9881.9194,506,9893.9194,494,9905.9194,482,9893.9194,494,9881.9194" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="458,9468.8911,530,9468.8911,542,9480.8911,530,9492.8911,458,9492.8911,446,9480.8911,458,9468.8911" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="352" x="498" y="9503.1016">yes -&gt; Read minimum startup setting from 'external' memory</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="458" y="9484.6992">Temp5 == 0</text><polygon fill="#F1F1F1" points="494,9925.9194,506,9937.9194,494,9949.9194,482,9937.9194,494,9925.9194" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="417.5" y="9991.3184"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="133" x="427.5" y="10012.457">A = Startup_Stall_Cnt</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="456" y="10093.6895"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56" x="466" y="10114.8281">B = 0x40</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="456" y="10147.6582"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56" x="466" y="10168.7969">A = A * B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="445" y="10201.627"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="455" y="10222.7656">A += Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="10276.9946"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="10298.1333">Temp4 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="10330.9634"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="10352.1021">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="408.5" y="10384.9321"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151" x="418.5" y="10406.0708">A = A + (0 + CARRY_BIT)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="10460.2998"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="10481.4385">Temp5 = A</text><polygon fill="#F1F1F1" points="477,10045.2871,511,10045.2871,523,10057.2871,511,10069.2871,477,10069.2871,465,10057.2871,477,10045.2871" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="380" x="498" y="10079.4976">yes -&gt; boost startup. Note. Startup_Stall_Cnt shall be smaller to 6</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="477" y="10061.0952">A != 0</text><polygon fill="#F1F1F1" points="494,10514.2686,506,10526.2686,494,10538.2686,482,10526.2686,494,10514.2686" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="329,9420.4888,659,9420.4888,671,9432.4888,659,9444.4888,329,9444.4888,317,9432.4888,329,9420.4888" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="398" x="498" y="9454.6992">Increase startup power if motor has not started and rc pulse is small</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="330" x="329" y="9436.2969">Flag_Motor_Started == 0 &amp;&amp; Flag_Initial_Run_Phase == 1</text><polygon fill="#F1F1F1" points="494,10558.2686,506,10570.2686,494,10582.2686,482,10570.2686,494,10558.2686" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="10623.6675"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="10644.8062">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="443.5" y="10677.6362"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="453.5" y="10698.7749">A = A &amp; 0xF8</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="440" y="10731.605"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="450" y="10752.7437">A = A | Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="10806.9727"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="10828.1113">swap A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="449" y="10882.3403"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="459" y="10903.479">A = A &lt;&lt; 1</text><polygon fill="#F1F1F1" points="458,10957.708,530,10957.708,542,10969.708,530,10981.708,458,10981.708,446,10969.708,458,10957.708" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="458" y="10973.5161">Temp2 == 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="302" y="10967.1138">yes -&gt; set Flag_Rcp_Stop</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="302" x="542" y="10967.1138">no -&gt; clear Flag_Rcp_Stop and set Rcp_Stop_Cnt to 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="348" y="10991.708"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="358" y="11012.8467">Flag_Rcp_Stop = 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="504" y="10991.708"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116" x="514" y="11012.8467">Flag_Rcp_Stop = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="506.5" y="11045.6768"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="516.5" y="11066.8154">Rcp_Stop_Cnt = 0</text><polygon fill="#F1F1F1" points="494,11085.6455,506,11097.6455,494,11109.6455,482,11097.6455,494,11085.6455" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="405" y="11178.0479"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="415" y="11199.1865">Rcp_Outside_Range_Cnt--</text><polygon fill="#F1F1F1" points="412.5,11129.6455,575.5,11129.6455,587.5,11141.6455,575.5,11153.6455,412.5,11153.6455,400.5,11141.6455,412.5,11129.6455" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="498" y="11163.856">yes -&gt; decrement</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="163" x="412.5" y="11145.4536">Rcp_Outside_Range_Cnt != 0</text><polygon fill="#F1F1F1" points="494,11232.0166,506,11244.0166,494,11256.0166,482,11244.0166,494,11232.0166" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="423" y="11297.4155"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="433" y="11318.5542">Temp6 = Pwm_Limit</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="396.5" y="11399.7866"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="175" x="406.5" y="11420.9253">Temp6 = Pwm_Limit_By_Rpm</text><polygon fill="#F1F1F1" points="410.5,11351.3843,577.5,11351.3843,589.5,11363.3843,577.5,11375.3843,410.5,11375.3843,398.5,11363.3843,410.5,11351.3843" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="498" y="11385.5947">yes -&gt; update to pwm limit by rpm</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="410.5" y="11367.1924">Temp6 &gt; Pwm_Limit_By_Rpm</text><polygon fill="#F1F1F1" points="494,11453.7554,506,11465.7554,494,11477.7554,482,11465.7554,494,11453.7554" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="442,11593.166,546,11593.166,558,11605.166,546,11617.166,442,11617.166,430,11605.166,442,11593.166" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="442" y="11608.9741">PWM_BITS_H == 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="362" y="11602.5718">YES -&gt; 8 bit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="231" x="558" y="11602.5718">NO -&gt; set 11bit rc pulse = pwm limit * 8</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="359" y="11627.166"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="369" y="11648.3047">Temp2 = Temp6</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="524" y="11627.166"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="534" y="11648.3047">A = Temp6</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="541" y="11681.1348"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="551" y="11702.2734">B = 8</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="530" y="11735.1035"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56" x="540" y="11756.2422">A = A * B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="524" y="11789.0723"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="534" y="11810.2109">Temp4 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="524" y="11843.041"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="534" y="11864.1797">Temp5 = B</text><polygon fill="#F1F1F1" points="494,11883.0098,506,11895.0098,494,11907.0098,482,11895.0098,494,11883.0098" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="446.5,11544.7637,541.5,11544.7637,553.5,11556.7637,541.5,11568.7637,446.5,11568.7637,434.5,11556.7637,446.5,11544.7637" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="498" y="11578.9741">yes -&gt; rc pulse bigger than pwm limit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="446.5" y="11560.5718">Temp2 &gt; Temp6</text><polygon fill="#F1F1F1" points="494,11927.0098,506,11939.0098,494,11951.0098,482,11939.0098,494,11927.0098" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="138,11993.8145,242,11993.8145,254,12005.8145,242,12017.8145,138,12017.8145,126,12005.8145,138,11993.8145" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="194" y="12028.0249">11bit pwm</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="138" y="12009.6226">PWM_BITS_H == 3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="146" y="12049.5249"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="156" y="12070.6636">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="158" y="12103.4937"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="168" y="12124.6323">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="139" y="12157.4624"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="149" y="12178.6011">A = A &amp; 0x07</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="146" y="12211.4312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="156" y="12232.5698">Temp3 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="146" y="12265.3999"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="156" y="12286.5386">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="158" y="12322.771"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="168" y="12343.9097">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="146" y="12398.1387"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="156" y="12419.2773">Temp2 = A</text><polygon fill="#F1F1F1" points="440.5,11993.8145,544.5,11993.8145,556.5,12005.8145,544.5,12017.8145,440.5,12017.8145,428.5,12005.8145,440.5,11993.8145" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="496.5" y="12028.0249">10bit pwm</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="440.5" y="12009.6226">PWM_BITS_H == 2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="438" y="12049.5249"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="448" y="12070.6636">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="448.5" y="12103.4937"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="458.5" y="12124.6323">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="412" y="12157.4624"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="422" y="12178.6011">A = CARRY_BIT::A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="460.5" y="12211.4312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="470.5" y="12232.5698">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="441.5" y="12265.3999"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="451.5" y="12286.5386">A = A &amp; 0x03</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="448.5" y="12322.771"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="458.5" y="12343.9097">Temp3 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="448.5" y="12385.334"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="458.5" y="12406.4727">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="412" y="12454.3027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="422" y="12475.4414">A = CARRY_BIT::A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="460.5" y="12511.6738"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="470.5" y="12532.8125">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="448.5" y="12565.6426"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="458.5" y="12586.7813">Temp2 = A</text><polygon fill="#F1F1F1" points="621.5,11993.8145,725.5,11993.8145,737.5,12005.8145,725.5,12017.8145,621.5,12017.8145,609.5,12005.8145,621.5,11993.8145" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="677.5" y="12028.0249">9 bit pwm</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="621.5" y="12009.6226">PWM_BITS_H == 1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="737.5" y="12003.2202">8 bit pwm</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="629.5" y="12049.5249"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="639.5" y="12070.6636">B = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="629.5" y="12103.4937"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="639.5" y="12124.6323">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="613" y="12157.4624"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="623" y="12178.6011">CARRY_BIT = B.0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="593" y="12211.4312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="603" y="12232.5698">A = CARRY_BIT::A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="613" y="12265.3999"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="623" y="12286.5386">CARRY_BIT = B.1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="593" y="12322.771"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="603" y="12343.9097">A = CARRY_BIT::A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="641.5" y="12385.334"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="651.5" y="12406.4727">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="629.5" y="12454.3027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="639.5" y="12475.4414">Temp2 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="629.5" y="12511.6738"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="639.5" y="12532.8125">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="628.5" y="12565.6426"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="638.5" y="12586.7813">A = A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="628.5" y="12619.6113"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="638.5" y="12640.75">A = A &gt;&gt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="641.5" y="12673.5801"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="651.5" y="12694.7188">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="622.5" y="12727.5488"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="632.5" y="12748.6875">A = A &amp; 0x01</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="629.5" y="12781.5176"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="639.5" y="12802.6563">Temp3 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="774" y="12319.3687"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="784" y="12340.5073">A = Temp2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="786" y="12381.9316"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="796" y="12403.0703">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="774" y="12450.9004"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="784" y="12472.0391">Temp2 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="774" y="12508.2715"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="784" y="12529.4102">Temp3 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="12973.6899"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="12994.8286">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="462" y="13027.6587"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="472" y="13048.7974">A = ~A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="254" x="367" y="13081.6274"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="234" x="377" y="13102.7661">A = A &amp; ((1 &lt;&lt; (3 - PWM_BITS_H)) - 1)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="199" x="394.5" y="13156.9951"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179" x="404.5" y="13178.1338">A = A + &amp;Dithering_Patterns</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="13232.3628"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="13253.5015">Temp1 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="447" y="13307.7305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="457" y="13328.8691">A = *Temp1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="449" y="13383.0981"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="459" y="13404.2368">A = A &lt;&lt; 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="444.5" y="13458.4658"/><ellipse cx="460" cy="13474.9346" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="465.5" y="13479.6045">Temp1 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="13560.8369"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="13581.9756">A = Temp2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="454" y="13614.8057"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="464" y="13635.9443">A = A + 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="13668.7744"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="13689.9131">Temp2 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="13819.5479"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="13840.6865">A = Temp3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="413.5" y="13873.5166"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="423.5" y="13894.6553">A = A + 0 + CARRY_BIT</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="13927.4854"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="13948.624">Temp3 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="423" y="14033.4385"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="433" y="14054.5771">Temp3 = Temp3 - 1</text><polygon fill="#F1F1F1" points="436.5,13985.0361,551.5,13985.0361,563.5,13997.0361,551.5,14009.0361,436.5,14009.0361,424.5,13997.0361,436.5,13985.0361" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="498" y="14019.2466">yes -&gt; Avoid overflow</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="436.5" y="14000.8442">A.PWM_BITS_H == 1</text><polygon fill="#F1F1F1" points="494,14087.4072,506,14099.4072,494,14111.4072,482,14099.4072,494,14087.4072" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="445,13771.1455,543,13771.1455,555,13783.1455,543,13795.1455,445,13795.1455,433,13783.1455,445,13771.1455" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="13805.356">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="445" y="13786.9536">PWM_BITS_H != 0</text><polygon fill="#F1F1F1" points="494,14131.4072,506,14143.4072,494,14155.4072,482,14143.4072,494,14131.4072" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="423" y="14175.4072"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="122" x="433" y="14196.5459">Temp2 = Temp2 - 1</text><polygon fill="#F1F1F1" points="474,13722.7432,514,13722.7432,526,13734.7432,514,13746.7432,474,13746.7432,462,13734.7432,474,13722.7432" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="498" y="13756.9536">yes -&gt; propagate carry bit to temp3</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="474" y="13738.5513">A == 0</text><polygon fill="#F1F1F1" points="494,14229.376,506,14241.376,494,14253.376,482,14241.376,494,14229.376" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="468.5,13512.4346,519.5,13512.4346,531.5,13524.4346,519.5,13536.4346,468.5,13536.4346,456.5,13524.4346,468.5,13512.4346" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="498" y="13546.645">yes -&gt; Increment pwm if bit is set</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="468.5" y="13528.2427">A.0 == 1</text><polygon fill="#F1F1F1" points="494,14273.376,506,14285.376,494,14297.376,482,14285.376,494,14273.376" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="437.5,12925.2876,550.5,12925.2876,562.5,12937.2876,550.5,12949.2876,437.5,12949.2876,425.5,12937.2876,437.5,12925.2876" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="498" y="12959.498">yes -&gt; Apply dithering</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="437.5" y="12941.0957">Flag_Dithering == 1</text><polygon fill="#F1F1F1" points="494,14317.376,506,14329.376,494,14341.376,482,14329.376,494,14317.376" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="446.5,12876.8853,541.5,12876.8853,553.5,12888.8853,541.5,12900.8853,446.5,12900.8853,434.5,12888.8853,446.5,12876.8853" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="12911.0957">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="446.5" y="12892.6934">PWM_BITS_H &lt; 3</text><polygon fill="#F1F1F1" points="494,14361.376,506,14373.376,494,14385.376,482,14373.376,494,14361.376" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="439.5" y="14481.5796"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="449.5" y="14502.7183">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="14556.9473"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="14578.0859">A = Temp2</text><polygon fill="#F1F1F1" points="442,14610.916,546,14610.916,558,14622.916,546,14634.916,442,14634.916,430,14622.916,442,14610.916" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="442" y="14626.7241">MCU_48MHZ == 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="410" y="14620.3218">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="558" y="14620.3218">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="210" x="294.5" y="14644.916"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="190" x="304.5" y="14666.0547">A = A - ((DEADTIME + 1) &gt;&gt; 1)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="524.5" y="14644.916"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="534.5" y="14666.0547">A = A - DEADTIME</text><polygon fill="#F1F1F1" points="494,14684.8848,506,14696.8848,494,14708.8848,482,14696.8848,494,14684.8848" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="14728.8848"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="14750.0234">Temp4 = A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="14782.8535"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="14803.9922">A = Temp3</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="411.5" y="14836.8223"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145" x="421.5" y="14857.9609">A = A - (0 + CARRY_BIT)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="450" y="14890.791"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="460" y="14911.9297">Temp5 = A</text><polygon fill="#F1F1F1" points="474,14944.7598,514,14944.7598,526,14956.7598,514,14968.7598,474,14968.7598,462,14956.7598,474,14944.7598" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="474" y="14960.5679">A == 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="296" y="14954.1655">yes -&gt; Set to minimum value</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="526" y="14954.1655">no -&gt; Set to max braking</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="372.5" y="14978.7598"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="34" x="382.5" y="14999.8984">A = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="355.5" y="15032.7285"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="365.5" y="15053.8672">Temp4 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="355.5" y="15086.6973"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="365.5" y="15107.8359">Temp5 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="534" y="14978.7598"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="544" y="14999.8984">CARRY_BIT = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="544.5" y="15032.7285"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="554.5" y="15053.8672">A = Temp4</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="509" y="15086.6973"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="519" y="15107.8359">A = A - Pwm_Braking_L</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="544.5" y="15140.666"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="554.5" y="15161.8047">A = Temp5</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="463.5" y="15194.6348"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="230" x="473.5" y="15215.7734">A = A - (Pwm_Braking_L + CARRY_BIT)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="502" y="15297.0059"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="153" x="512" y="15318.1445">Temp4 = Pwm_Braking_L</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="500.5" y="15365.9746"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="510.5" y="15387.1133">Temp5 = Pwm_Braking_H</text><polygon fill="#F1F1F1" points="542,15248.6035,635,15248.6035,647,15260.6035,635,15272.6035,542,15272.6035,530,15260.6035,542,15248.6035" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="350" x="592.5" y="15282.814">yes -&gt; Is braking pwm more than maximum allowed braking?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="542" y="15264.4116">CARRY_BIT == 0</text><polygon fill="#F1F1F1" points="588.5,15419.9434,600.5,15431.9434,588.5,15443.9434,576.5,15431.9434,588.5,15419.9434" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="494,15449.9434,506,15461.9434,494,15473.9434,482,15461.9434,494,15449.9434" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="452.5,14426.7749,535.5,14426.7749,547.5,14438.7749,535.5,14450.7749,452.5,14450.7749,440.5,14438.7749,452.5,14426.7749" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="417" x="498" y="14460.9854">yes -&gt; Subtract dead time from normal pwm and store as damping pwm</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="401" x="498" y="14473.79">Damping pwm duty cycle will be higher because numbers are inverted</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="452.5" y="14442.583">DEADTIME != 0</text><polygon fill="#F1F1F1" points="494,15493.9434,506,15505.9434,494,15517.9434,482,15505.9434,494,15493.9434" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="445,15584.9517,543,15584.9517,555,15596.9517,543,15608.9517,445,15608.9517,433,15596.9517,445,15584.9517" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="445" y="15600.7598">PWM_BITS_H != 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="413" y="15594.3574">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="555" y="15594.3574">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="270.25" y="15618.9517"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193" x="280.25" y="15640.0903">Set_Power_Pwm_Reg_L(Temp2)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="268.75" y="15672.9204"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196" x="278.75" y="15694.0591">Set_Power_Pwm_Reg_H(Temp3)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="504.75" y="15618.9517"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193" x="514.75" y="15640.0903">Set_Power_Pwm_Reg_L(Temp2)</text><polygon fill="#F1F1F1" points="494,15712.8892,506,15724.8892,494,15736.8892,482,15724.8892,494,15712.8892" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="445,15826.6904,543,15826.6904,555,15838.6904,543,15850.6904,445,15850.6904,433,15838.6904,445,15826.6904" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="445" y="15842.4985">PWM_BITS_H != 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="413" y="15836.0962">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="555" y="15836.0962">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="272.25" y="15860.6904"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="191" x="282.25" y="15881.8291">Set_Damp_Pwm_Reg_L(Temp4)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="270.75" y="15929.6592"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="280.75" y="15950.7979">Set_Damp_Pwm_Reg_H(Temp5)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="504.75" y="15860.6904"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="191" x="514.75" y="15881.8291">Set_Damp_Pwm_Reg_L(Temp4)</text><polygon fill="#F1F1F1" points="494,15969.6279,506,15981.6279,494,15993.6279,482,15981.6279,494,15969.6279" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="452.5,15778.2881,535.5,15778.2881,547.5,15790.2881,535.5,15802.2881,452.5,15802.2881,440.5,15790.2881,452.5,15778.2881" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="498" y="15812.4985">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="452.5" y="15794.0962">DEADTIME != 0</text><polygon fill="#F1F1F1" points="494,16013.6279,506,16025.6279,494,16037.6279,482,16025.6279,494,16013.6279" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="410" y="16079.0269"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="420" y="16100.1655">Rcp_Timeout_Cntd = 10</text><polygon fill="#F1F1F1" points="308,16155.1992,680,16155.1992,692,16167.1992,680,16179.1992,308,16179.1992,296,16167.1992,308,16155.1992" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="372" x="308" y="16171.0073">Flag_Rcp_DShot_Inverted == 1 &amp;&amp; Flag_Telemetry_Pending == 1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="286" x="10" y="16151.8003">yes -&gt; Prepare Timer0 for sending telemetry data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="10" y="16164.605">Timer0 is system clock divided by 4</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="297" x="692" y="16151.8003">no -&gt; Do not send telemetry. Set tx pointer to start,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="217" x="692" y="16164.605">reset timer 0 and enable int0 and int1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="206" y="16189.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="216" y="16210.3379">CKCON0 = 0x01</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="213" y="16264.5669"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="223" y="16285.7056">TMOD = 0xA2</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="218.5" y="16356.9497"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="228.5" y="16378.0884">RTX_BIT = 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="288" x="120.5" y="16438.7231"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="268" x="130.5" y="16459.8618">RTX_MDOUT = RTX_MDOUT | (1 &lt;&lt; RTX_PIN)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="220.5" y="16514.0908"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="230.5" y="16535.2295">Temp1 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="162" y="16602.2632"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="185" x="172" y="16623.4019">TL0 = DShot_GCR_Start_Delay</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="211" y="16677.6309"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="221" y="16698.7695">TCON_TF0 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="221.5" y="16752.9985"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="231.5" y="16774.1372">IE_ET0 = 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="679.5" y="16189.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="689.5" y="16210.3379">Temp1 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="690" y="16251.7622"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="700" y="16272.9009">TL0 = 0</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="680.5" y="16318.5356"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="690.5" y="16339.6743">IE_EX0 = 1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="680.5" y="16387.5044"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="690.5" y="16408.6431">IE_EX1 = 1</text><polygon fill="#F1F1F1" points="494,16792.9673,506,16804.9673,494,16816.9673,482,16804.9673,494,16792.9673" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="466" y="16858.3662"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="476" y="16879.5049">pop B</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="458" y="16912.335"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="468" y="16933.4736">pop ACC</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="456.5" y="16966.3037"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="466.5" y="16987.4424">pop PSW</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="473.5" y="17020.2725"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="483.5" y="17041.4111">reti</text><ellipse cx="494" cy="17085.2412" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="494" cy="17085.2412" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="30" y2="199.4458"/><polygon fill="#181818" points="490,189.4458,494,199.4458,498,189.4458,494,193.4458" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="498" y="51.3047">Timer1 interrupt routine:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="498" y="64.1094"></text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="506" y="76.9141">Decode DShot frame</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307" x="506" y="89.7188">Process new throttle value and update pwm registers</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="506" y="102.5234">Schedule DShot telemetry</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="498" y="115.3281"></text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="498" y="128.1328">Datas:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="530" y="140.9375">Uses register bank 1</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="219" x="530" y="153.7422">Temp1 - Telemetry tx/rx buffer pointer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="498" y="166.5469"></text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="498" y="179.3516">Disable Int0 interrupts</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="233.4146" y2="274.8135"/><polygon fill="#181818" points="490,264.8135,494,274.8135,498,264.8135,494,268.8135" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="498" y="254.7192">Stop timer 1</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="308.7822" y2="350.1812"/><polygon fill="#181818" points="490,340.1812,494,350.1812,498,340.1812,494,344.1812" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="498" y="330.0869">Reset sync timer</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="384.1499" y2="425.5488"/><polygon fill="#181818" points="490,415.5488,494,425.5488,498,415.5488,494,419.5488" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="319" x="498" y="405.4546">Select register bank 1 and push used registers in stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="459.5176" y2="479.5176"/><polygon fill="#181818" points="490,469.5176,494,479.5176,498,469.5176,494,473.5176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="513.4863" y2="533.4863"/><polygon fill="#181818" points="490,523.4863,494,533.4863,498,523.4863,494,527.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="567.4551" y2="587.4551"/><polygon fill="#181818" points="490,577.4551,494,587.4551,498,577.4551,494,581.4551" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="621.4238" y2="701.2368"/><polygon fill="#181818" points="490,691.2368,494,701.2368,498,691.2368,494,695.2368" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="498" y="642.7285">Note: Interrupts are not explicitly disabled</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="428" x="498" y="655.5332">Assume higher priority interrupts (Int0, Timer0) to be disabled at this point</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="498" y="668.3379"></text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="192" x="498" y="681.1426">Disable, read, and enable timer 2</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="735.2056" y2="755.2056"/><polygon fill="#181818" points="490,745.2056,494,755.2056,498,745.2056,494,749.2056" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="789.1743" y2="809.1743"/><polygon fill="#181818" points="490,799.1743,494,809.1743,498,799.1743,494,803.1743" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="843.1431" y2="863.1431"/><polygon fill="#181818" points="490,853.1431,494,863.1431,498,853.1431,494,857.1431" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="897.1118" y2="938.5107"/><polygon fill="#181818" points="490,928.5107,494,938.5107,498,928.5107,494,932.5107" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="498" y="918.4165">Check frame time length</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1114.874" y2="1156.2729"/><polygon fill="#181818" points="490,1146.2729,494,1156.2729,498,1146.2729,494,1150.2729" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="1136.1787">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1190.2417" y2="1210.2417"/><polygon fill="#181818" points="490,1200.2417,494,1210.2417,498,1200.2417,494,1204.2417" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1244.2104" y2="1264.2104"/><polygon fill="#181818" points="490,1254.2104,494,1264.2104,498,1254.2104,494,1258.2104" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1298.1792" y2="1318.1792"/><polygon fill="#181818" points="490,1308.1792,494,1318.1792,498,1308.1792,494,1312.1792" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1352.1479" y2="1372.1479"/><polygon fill="#181818" points="490,1362.1479,494,1372.1479,498,1362.1479,494,1366.1479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1043.6982" y2="1080.9053"/><polygon fill="#181818" points="490,1070.9053,494,1080.9053,498,1070.9053,494,1074.9053" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="635" x2="770" y1="1018.0889" y2="1018.0889"/><polygon fill="#181818" points="766,1229.519,770,1239.519,774,1229.519,770,1233.519" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="1018.0889" y2="1416.1479"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="1416.1479" y2="1416.1479"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="972.4795" y2="992.4795"/><polygon fill="#181818" points="490,982.4795,494,992.4795,498,982.4795,494,986.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1416.1479" y2="1470.3516"/><polygon fill="#181818" points="490,1460.3516,494,1470.3516,498,1460.3516,494,1464.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="498" y="1437.4526">no -&gt; Start decoding received data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="498" y="1450.2573">Set pointer to 0</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1504.3203" y2="1545.7192"/><polygon fill="#181818" points="490,1535.7192,494,1545.7192,498,1535.7192,494,1539.7192" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="345" x="498" y="1525.625">DSHOT pulse width depending on detected speed on startup</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1579.688" y2="1621.0869"/><polygon fill="#181818" points="490,1611.0869,494,1621.0869,498,1611.0869,494,1615.0869" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="498" y="1600.9927">Reset timestamp</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1774.4233" y2="1815.8223"/><polygon fill="#181818" points="490,1805.8223,494,1815.8223,498,1805.8223,494,1809.8223" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="1795.728">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1849.791" y2="1869.791"/><polygon fill="#181818" points="490,1859.791,494,1869.791,498,1859.791,494,1863.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1903.7598" y2="1925.873"/><polygon fill="#181818" points="490,1915.873,494,1925.873,498,1915.873,494,1919.873" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1959.8418" y2="1979.8418"/><polygon fill="#181818" points="490,1969.8418,494,1979.8418,498,1969.8418,494,1973.8418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2013.8105" y2="2033.8105"/><polygon fill="#181818" points="490,2023.8105,494,2033.8105,498,2023.8105,494,2027.8105" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1720.4546" y2="1740.4546"/><polygon fill="#181818" points="490,1730.4546,494,1740.4546,498,1730.4546,494,1734.4546" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="1708.4546" y2="1708.4546"/><polygon fill="#181818" points="766,1895.873,770,1905.873,774,1895.873,770,1899.873" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="1708.4546" y2="2077.8105"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="2077.8105" y2="2077.8105"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2077.8105" y2="2097.8105"/><polygon fill="#181818" points="490,2087.8105,494,2097.8105,498,2087.8105,494,2091.8105" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="1655.0557" y2="1696.4546"/><polygon fill="#181818" points="490,1686.4546,494,1696.4546,498,1686.4546,494,1690.4546" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="454" x="498" y="1676.3604">Decode DShot data Msb. Use more code space to save time (by not using loop)</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2175.7793" y2="2217.1782"/><polygon fill="#181818" points="490,2207.1782,494,2217.1782,498,2207.1782,494,2211.1782" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="2197.084">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2251.147" y2="2271.147"/><polygon fill="#181818" points="490,2261.147,494,2271.147,498,2261.147,494,2265.147" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2305.1157" y2="2327.229"/><polygon fill="#181818" points="490,2317.229,494,2327.229,498,2317.229,494,2321.229" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2361.1978" y2="2381.1978"/><polygon fill="#181818" points="490,2371.1978,494,2381.1978,498,2371.1978,494,2375.1978" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2415.1665" y2="2435.1665"/><polygon fill="#181818" points="490,2425.1665,494,2435.1665,498,2425.1665,494,2429.1665" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2121.8105" y2="2141.8105"/><polygon fill="#181818" points="490,2131.8105,494,2141.8105,498,2131.8105,494,2135.8105" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="2109.8105" y2="2109.8105"/><polygon fill="#181818" points="766,2297.229,770,2307.229,774,2297.229,770,2301.229" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="2109.8105" y2="2479.1665"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="2479.1665" y2="2479.1665"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2602.9365" y2="2644.3354"/><polygon fill="#181818" points="490,2634.3354,494,2644.3354,498,2634.3354,494,2638.3354" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="2624.2412">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2678.3042" y2="2698.3042"/><polygon fill="#181818" points="490,2688.3042,494,2698.3042,498,2688.3042,494,2692.3042" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2732.2729" y2="2754.3862"/><polygon fill="#181818" points="490,2744.3862,494,2754.3862,498,2744.3862,494,2748.3862" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2788.355" y2="2808.355"/><polygon fill="#181818" points="490,2798.355,494,2808.355,498,2798.355,494,2802.355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2842.3237" y2="2862.3237"/><polygon fill="#181818" points="490,2852.3237,494,2862.3237,498,2852.3237,494,2856.3237" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2544.5654" y2="2568.9678"/><polygon fill="#181818" points="490,2558.9678,494,2568.9678,498,2558.9678,494,2562.9678" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="2532.5654" y2="2532.5654"/><polygon fill="#181818" points="766,2724.3862,770,2734.3862,774,2724.3862,770,2728.3862" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="2532.5654" y2="2906.3237"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="2906.3237" y2="2906.3237"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2906.3237" y2="2926.3237"/><polygon fill="#181818" points="490,2916.3237,494,2926.3237,498,2916.3237,494,2920.3237" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2479.1665" y2="2520.5654"/><polygon fill="#181818" points="490,2510.5654,494,2520.5654,498,2510.5654,494,2514.5654" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="133" x="498" y="2500.4712">Decode DShot data Lsb</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3008.6948" y2="3050.0938"/><polygon fill="#181818" points="490,3040.0938,494,3050.0938,498,3040.0938,494,3044.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="3029.9995">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3084.0625" y2="3104.0625"/><polygon fill="#181818" points="490,3094.0625,494,3104.0625,498,3094.0625,494,3098.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3138.0313" y2="3160.1445"/><polygon fill="#181818" points="490,3150.1445,494,3160.1445,498,3150.1445,494,3154.1445" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3194.1133" y2="3214.1133"/><polygon fill="#181818" points="490,3204.1133,494,3214.1133,498,3204.1133,494,3208.1133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3248.082" y2="3268.082"/><polygon fill="#181818" points="490,3258.082,494,3268.082,498,3258.082,494,3262.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="2950.3237" y2="2974.7261"/><polygon fill="#181818" points="490,2964.7261,494,2974.7261,498,2964.7261,494,2968.7261" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="2938.3237" y2="2938.3237"/><polygon fill="#181818" points="766,3130.1445,770,3140.1445,774,3130.1445,770,3134.1445" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="2938.3237" y2="3312.082"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="3312.082" y2="3312.082"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3312.082" y2="3332.082"/><polygon fill="#181818" points="490,3322.082,494,3332.082,498,3322.082,494,3326.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3414.4531" y2="3455.8521"/><polygon fill="#181818" points="490,3445.8521,494,3455.8521,498,3445.8521,494,3449.8521" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="3435.7578">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3489.8208" y2="3509.8208"/><polygon fill="#181818" points="490,3499.8208,494,3509.8208,498,3499.8208,494,3503.8208" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3543.7896" y2="3565.9028"/><polygon fill="#181818" points="490,3555.9028,494,3565.9028,498,3555.9028,494,3559.9028" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3599.8716" y2="3619.8716"/><polygon fill="#181818" points="490,3609.8716,494,3619.8716,498,3609.8716,494,3613.8716" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3653.8403" y2="3673.8403"/><polygon fill="#181818" points="490,3663.8403,494,3673.8403,498,3663.8403,494,3667.8403" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3356.082" y2="3380.4844"/><polygon fill="#181818" points="490,3370.4844,494,3380.4844,498,3370.4844,494,3374.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="3344.082" y2="3344.082"/><polygon fill="#181818" points="766,3535.9028,770,3545.9028,774,3535.9028,770,3539.9028" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="3344.082" y2="3717.8403"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="3717.8403" y2="3717.8403"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3717.8403" y2="3737.8403"/><polygon fill="#181818" points="490,3727.8403,494,3737.8403,498,3727.8403,494,3731.8403" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3820.2114" y2="3861.6104"/><polygon fill="#181818" points="490,3851.6104,494,3861.6104,498,3851.6104,494,3855.6104" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="3841.5161">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3895.5791" y2="3915.5791"/><polygon fill="#181818" points="490,3905.5791,494,3915.5791,498,3905.5791,494,3909.5791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3949.5479" y2="3971.6611"/><polygon fill="#181818" points="490,3961.6611,494,3971.6611,498,3961.6611,494,3965.6611" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4005.6299" y2="4025.6299"/><polygon fill="#181818" points="490,4015.6299,494,4025.6299,498,4015.6299,494,4019.6299" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4059.5986" y2="4079.5986"/><polygon fill="#181818" points="490,4069.5986,494,4079.5986,498,4069.5986,494,4073.5986" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="3761.8403" y2="3786.2427"/><polygon fill="#181818" points="490,3776.2427,494,3786.2427,498,3776.2427,494,3780.2427" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="3749.8403" y2="3749.8403"/><polygon fill="#181818" points="766,3941.6611,770,3951.6611,774,3941.6611,770,3945.6611" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="3749.8403" y2="4123.5986"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="4123.5986" y2="4123.5986"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4247.3687" y2="4288.7676"/><polygon fill="#181818" points="490,4278.7676,494,4288.7676,498,4278.7676,494,4282.7676" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="4268.6733">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4322.7363" y2="4342.7363"/><polygon fill="#181818" points="490,4332.7363,494,4342.7363,498,4332.7363,494,4336.7363" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4376.7051" y2="4398.8184"/><polygon fill="#181818" points="490,4388.8184,494,4398.8184,498,4388.8184,494,4392.8184" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4432.7871" y2="4452.7871"/><polygon fill="#181818" points="490,4442.7871,494,4452.7871,498,4442.7871,494,4446.7871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4486.7559" y2="4506.7559"/><polygon fill="#181818" points="490,4496.7559,494,4506.7559,498,4496.7559,494,4500.7559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4188.9976" y2="4213.3999"/><polygon fill="#181818" points="490,4203.3999,494,4213.3999,498,4203.3999,494,4207.3999" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="4176.9976" y2="4176.9976"/><polygon fill="#181818" points="766,4368.8184,770,4378.8184,774,4368.8184,770,4372.8184" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="4176.9976" y2="4550.7559"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="4550.7559" y2="4550.7559"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4550.7559" y2="4570.7559"/><polygon fill="#181818" points="490,4560.7559,494,4570.7559,498,4560.7559,494,4564.7559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4123.5986" y2="4164.9976"/><polygon fill="#181818" points="490,4154.9976,494,4164.9976,498,4154.9976,494,4158.9976" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="498" y="4144.9033">Decode DShot data checksum</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4653.127" y2="4694.5259"/><polygon fill="#181818" points="490,4684.5259,494,4694.5259,498,4684.5259,494,4688.5259" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="4674.4316">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4728.4946" y2="4748.4946"/><polygon fill="#181818" points="490,4738.4946,494,4748.4946,498,4738.4946,494,4742.4946" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4782.4634" y2="4804.5767"/><polygon fill="#181818" points="490,4794.5767,494,4804.5767,498,4794.5767,494,4798.5767" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4838.5454" y2="4858.5454"/><polygon fill="#181818" points="490,4848.5454,494,4858.5454,498,4848.5454,494,4852.5454" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4892.5142" y2="4912.5142"/><polygon fill="#181818" points="490,4902.5142,494,4912.5142,498,4902.5142,494,4906.5142" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4594.7559" y2="4619.1582"/><polygon fill="#181818" points="490,4609.1582,494,4619.1582,498,4609.1582,494,4613.1582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="770" y1="4582.7559" y2="4582.7559"/><polygon fill="#181818" points="766,4774.5767,770,4784.5767,774,4774.5767,770,4778.5767" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="4582.7559" y2="4956.5142"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="4956.5142" y2="4956.5142"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="4956.5142" y2="5036.3271"/><polygon fill="#181818" points="490,5026.3271,494,5036.3271,498,5026.3271,494,5030.3271" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="236" x="498" y="4977.8188">At this point Temp3 lo nibble contains crc</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="234" x="498" y="4990.6235">Temp4 contains DSHOT lowest 8 bit data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="225" x="498" y="5003.4282">Temp5 contains DSHOT hiest 4 bit data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="355" x="498" y="5016.2329">crc_calculated = (value ^ (value &gt;&gt; 4) ^ (value &gt;&gt; 8)) &amp; 0x0F</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5070.2959" y2="5090.2959"/><polygon fill="#181818" points="490,5080.2959,494,5090.2959,498,5080.2959,494,5084.2959" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5124.2646" y2="5144.2646"/><polygon fill="#181818" points="490,5134.2646,494,5144.2646,498,5134.2646,494,5138.2646" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5178.2334" y2="5198.2334"/><polygon fill="#181818" points="490,5188.2334,494,5198.2334,498,5188.2334,494,5192.2334" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5232.2021" y2="5252.2021"/><polygon fill="#181818" points="490,5242.2021,494,5252.2021,498,5242.2021,494,5246.2021" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5330.1709" y2="5354.5732"/><polygon fill="#181818" points="490,5344.5732,494,5354.5732,498,5344.5732,494,5348.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576.5" x2="588.5" y1="5318.1709" y2="5318.1709"/><polygon fill="#181818" points="584.5,5361.5576,588.5,5371.5576,592.5,5361.5576,588.5,5365.5576" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="5318.1709" y2="5420.542"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="506" y1="5420.542" y2="5420.542"/><polygon fill="#181818" points="516,5416.542,506,5420.542,516,5424.542,512,5420.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5388.542" y2="5408.542"/><polygon fill="#181818" points="490,5398.542,494,5408.542,498,5398.542,494,5402.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5286.1709" y2="5306.1709"/><polygon fill="#181818" points="490,5296.1709,494,5306.1709,498,5296.1709,494,5300.1709" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5432.542" y2="5452.542"/><polygon fill="#181818" points="490,5442.542,494,5452.542,498,5442.542,494,5446.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5588.8818" y2="5630.2808"/><polygon fill="#181818" points="490,5620.2808,494,5630.2808,498,5620.2808,494,5624.2808" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="5610.1865">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5664.2495" y2="5684.2495"/><polygon fill="#181818" points="490,5674.2495,494,5684.2495,498,5674.2495,494,5678.2495" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5718.2183" y2="5740.3315"/><polygon fill="#181818" points="490,5730.3315,494,5740.3315,498,5730.3315,494,5734.3315" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5774.3003" y2="5794.3003"/><polygon fill="#181818" points="490,5784.3003,494,5794.3003,498,5784.3003,494,5788.3003" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5828.269" y2="5848.269"/><polygon fill="#181818" points="490,5838.269,494,5848.269,498,5838.269,494,5842.269" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5530.5107" y2="5554.9131"/><polygon fill="#181818" points="490,5544.9131,494,5554.9131,498,5544.9131,494,5548.9131" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="523" x2="770" y1="5518.5107" y2="5518.5107"/><polygon fill="#181818" points="766,5710.3315,770,5720.3315,774,5710.3315,770,5714.3315" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="770" y1="5518.5107" y2="5892.269"/><line style="stroke:#181818;stroke-width:1.0;" x1="770" x2="494" y1="5892.269" y2="5892.269"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5486.5107" y2="5506.5107"/><polygon fill="#181818" points="490,5496.5107,494,5506.5107,498,5496.5107,494,5500.5107" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5892.269" y2="5933.668"/><polygon fill="#181818" points="490,5923.668,494,5933.668,498,5923.668,494,5927.668" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="498" y="5913.5737">Invert dshot data and substract 96</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="5967.6367" y2="5987.6367"/><polygon fill="#181818" points="490,5977.6367,494,5987.6367,498,5977.6367,494,5981.6367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6021.6055" y2="6063.0044"/><polygon fill="#181818" points="490,6053.0044,494,6063.0044,498,6053.0044,494,6057.0044" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="248" x="498" y="6042.9102">Temp3 now has dshot lo data byte inverted</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6096.9731" y2="6116.9731"/><polygon fill="#181818" points="490,6106.9731,494,6116.9731,498,6106.9731,494,6110.9731" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6150.9419" y2="6205.1455"/><polygon fill="#181818" points="490,6195.1455,494,6205.1455,498,6195.1455,494,6199.1455" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="455" x="498" y="6172.2466">Temp4 now has dshot lo data byte inverted -96 in case it is a DSHOT command</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="373" x="498" y="6185.0513">Be aware that there is a CARRY_BIT as result of this substraction</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6239.1143" y2="6259.1143"/><polygon fill="#181818" points="490,6249.1143,494,6259.1143,498,6249.1143,494,6253.1143" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6293.083" y2="6313.083"/><polygon fill="#181818" points="490,6303.083,494,6313.083,498,6303.083,494,6307.083" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6347.0518" y2="6367.0518"/><polygon fill="#181818" points="490,6357.0518,494,6367.0518,498,6357.0518,494,6361.0518" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6401.0205" y2="6421.0205"/><polygon fill="#181818" points="490,6411.0205,494,6421.0205,498,6411.0205,494,6415.0205" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6454.9893" y2="6474.9893"/><polygon fill="#181818" points="490,6464.9893,494,6474.9893,498,6464.9893,494,6468.9893" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6611.3291" y2="6631.3291"/><polygon fill="#181818" points="490,6621.3291,494,6631.3291,498,6621.3291,494,6625.3291" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6665.2979" y2="6685.2979"/><polygon fill="#181818" points="490,6675.2979,494,6685.2979,498,6675.2979,494,6679.2979" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="214.5" y1="6807.2354" y2="6827.2354"/><polygon fill="#181818" points="210.5,6817.2354,214.5,6827.2354,218.5,6817.2354,214.5,6821.2354" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="773.5" y1="6807.2354" y2="6827.2354"/><polygon fill="#181818" points="769.5,6817.2354,773.5,6827.2354,777.5,6817.2354,773.5,6821.2354" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="378.5" x2="378.5" y1="6993.688" y2="7028.688"/><polygon fill="#181818" points="374.5,7018.688,378.5,7028.688,382.5,7018.688,378.5,7022.688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="790.5" x2="790.5" y1="6993.688" y2="7028.688"/><polygon fill="#181818" points="786.5,7018.688,790.5,7028.688,794.5,7018.688,790.5,7022.688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="378.5" x2="378.5" y1="6928.0088" y2="6959.7192"/><polygon fill="#181818" points="374.5,6949.7192,378.5,6959.7192,382.5,6949.7192,378.5,6953.7192" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="378.5" x2="378.5" y1="7062.6567" y2="7082.6567"/><polygon fill="#181818" points="374.5,7072.6567,378.5,7082.6567,382.5,7072.6567,378.5,7076.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="790.5" x2="790.5" y1="6928.0088" y2="6959.7192"/><polygon fill="#181818" points="786.5,6949.7192,790.5,6959.7192,794.5,6949.7192,790.5,6953.7192" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="790.5" x2="790.5" y1="7062.6567" y2="7082.6567"/><polygon fill="#181818" points="786.5,7072.6567,790.5,7082.6567,794.5,7072.6567,790.5,7076.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="437" x2="732" y1="6916.0088" y2="6916.0088"/><polygon fill="#181818" points="722,6912.0088,732,6916.0088,722,6920.0088,726,6916.0088" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="378.5" y1="6889.0088" y2="6889.0088"/><line style="stroke:#181818;stroke-width:1.0;" x1="378.5" x2="378.5" y1="6889.0088" y2="6904.0088"/><polygon fill="#181818" points="374.5,6894.0088,378.5,6904.0088,382.5,6894.0088,378.5,6898.0088" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="849" x2="1165.5" y1="6916.0088" y2="6916.0088"/><line style="stroke:#181818;stroke-width:1.0;" x1="1165.5" x2="1165.5" y1="6916.0088" y2="6990.8013"/><polygon fill="#181818" points="1161.5,6980.8013,1165.5,6990.8013,1169.5,6980.8013,1165.5,6984.8013" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1165.5" x2="1165.5" y1="7024.77" y2="7082.6567"/><polygon fill="#181818" points="1161.5,7072.6567,1165.5,7082.6567,1169.5,7072.6567,1165.5,7076.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="378.5" x2="1165.5" y1="7082.6567" y2="7082.6567"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="773.5" y1="6861.2041" y2="6889.0088"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="271" x="777.5" y="6882.5088">CARRY_BIT now has the previous lowest bit in A</text><line style="stroke:#181818;stroke-width:1.0;" x1="462" x2="214.5" y1="6751.2666" y2="6751.2666"/><line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="214.5" y1="6751.2666" y2="6773.2666"/><polygon fill="#181818" points="210.5,6763.2666,214.5,6773.2666,218.5,6763.2666,214.5,6767.2666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="526" x2="773.5" y1="6751.2666" y2="6751.2666"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="773.5" y1="6751.2666" y2="6773.2666"/><polygon fill="#181818" points="769.5,6763.2666,773.5,6773.2666,777.5,6763.2666,773.5,6767.2666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="214.5" y1="6861.2041" y2="7100.6567"/><line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="482" y1="7100.6567" y2="7100.6567"/><polygon fill="#181818" points="472,7096.6567,482,7100.6567,472,7104.6567,476,7100.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="773.5" y1="7082.6567" y2="7100.6567"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.5" x2="506" y1="7100.6567" y2="7100.6567"/><polygon fill="#181818" points="516,7096.6567,506,7100.6567,516,7104.6567,512,7100.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6719.2666" y2="6739.2666"/><polygon fill="#181818" points="490,6729.2666,494,6739.2666,498,6729.2666,494,6733.2666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6552.958" y2="6577.3604"/><polygon fill="#181818" points="490,6567.3604,494,6577.3604,498,6567.3604,494,6571.3604" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="1248.5" y1="6540.958" y2="6540.958"/><polygon fill="#181818" points="1244.5,6848.0557,1248.5,6858.0557,1252.5,6848.0557,1248.5,6852.0557" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248.5" x2="1248.5" y1="6540.958" y2="7144.6567"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248.5" x2="506" y1="7144.6567" y2="7144.6567"/><polygon fill="#181818" points="516,7140.6567,506,7144.6567,516,7148.6567,512,7144.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7112.6567" y2="7132.6567"/><polygon fill="#181818" points="490,7122.6567,494,7132.6567,498,7122.6567,494,7126.6567" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="6508.958" y2="6528.958"/><polygon fill="#181818" points="490,6518.958,494,6528.958,498,6518.958,494,6522.958" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7280.4268" y2="7300.4268"/><polygon fill="#181818" points="490,7290.4268,494,7300.4268,498,7290.4268,494,7294.4268" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7334.3955" y2="7354.3955"/><polygon fill="#181818" points="490,7344.3955,494,7354.3955,498,7344.3955,494,7348.3955" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7388.3643" y2="7408.3643"/><polygon fill="#181818" points="490,7398.3643,494,7408.3643,498,7398.3643,494,7402.3643" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7442.333" y2="7462.333"/><polygon fill="#181818" points="490,7452.333,494,7462.333,498,7452.333,494,7456.333" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7496.3018" y2="7516.3018"/><polygon fill="#181818" points="490,7506.3018,494,7516.3018,498,7506.3018,494,7510.3018" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7674.0405" y2="7709.0405"/><polygon fill="#181818" points="490,7699.0405,494,7709.0405,498,7699.0405,494,7703.0405" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7615.6694" y2="7640.0718"/><polygon fill="#181818" points="490,7630.0718,494,7640.0718,498,7630.0718,494,7634.0718" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="540" x2="552" y1="7603.6694" y2="7603.6694"/><polygon fill="#181818" points="548,7681.5405,552,7691.5405,556,7681.5405,552,7685.5405" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="552" x2="552" y1="7603.6694" y2="7775.0093"/><line style="stroke:#181818;stroke-width:1.0;" x1="552" x2="506" y1="7775.0093" y2="7775.0093"/><polygon fill="#181818" points="516,7771.0093,506,7775.0093,516,7779.0093,512,7775.0093" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7743.0093" y2="7763.0093"/><polygon fill="#181818" points="490,7753.0093,494,7763.0093,498,7753.0093,494,7757.0093" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7550.2705" y2="7591.6694"/><polygon fill="#181818" points="490,7581.6694,494,7591.6694,498,7581.6694,494,7585.6694" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="498" y="7571.5752">A::B now is Temp5::Temp4 - 2000</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7852.4082" y2="7876.8105"/><polygon fill="#181818" points="490,7866.8105,494,7876.8105,498,7866.8105,494,7870.8105" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="573.5" x2="591" y1="7840.4082" y2="7840.4082"/><polygon fill="#181818" points="587,7883.7949,591,7893.7949,595,7883.7949,591,7887.7949" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="591" y1="7840.4082" y2="7942.7793"/><line style="stroke:#181818;stroke-width:1.0;" x1="591" x2="506" y1="7942.7793" y2="7942.7793"/><polygon fill="#181818" points="516,7938.7793,506,7942.7793,516,7946.7793,512,7942.7793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7910.7793" y2="7930.7793"/><polygon fill="#181818" points="490,7920.7793,494,7930.7793,498,7920.7793,494,7924.7793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7787.0093" y2="7828.4082"/><polygon fill="#181818" points="490,7818.4082,494,7828.4082,498,7818.4082,494,7822.4082" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="165" x="498" y="7808.314">Check programmed direction</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7954.7793" y2="7974.7793"/><polygon fill="#181818" points="490,7964.7793,494,7974.7793,498,7964.7793,494,7968.7793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8008.748" y2="8050.147"/><polygon fill="#181818" points="490,8040.147,494,8050.147,498,8040.147,494,8044.147" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="498" y="8030.0527">Multiply throttle value by 2</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8084.1157" y2="8104.1157"/><polygon fill="#181818" points="490,8094.1157,494,8104.1157,498,8094.1157,494,8098.1157" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8138.0845" y2="8158.0845"/><polygon fill="#181818" points="490,8148.0845,494,8158.0845,498,8148.0845,494,8152.0845" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7222.0557" y2="7246.458"/><polygon fill="#181818" points="490,7236.458,494,7246.458,498,7236.458,494,7240.458" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.5" x2="702" y1="7210.0557" y2="7210.0557"/><polygon fill="#181818" points="698,7701.8608,702,7711.8608,706,7701.8608,702,7705.8608" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="702" x2="702" y1="7210.0557" y2="8224.0532"/><line style="stroke:#181818;stroke-width:1.0;" x1="702" x2="506" y1="8224.0532" y2="8224.0532"/><polygon fill="#181818" points="516,8220.0532,506,8224.0532,516,8228.0532,512,8224.0532" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8192.0532" y2="8212.0532"/><polygon fill="#181818" points="490,8202.0532,494,8212.0532,498,8202.0532,494,8206.0532" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="7156.6567" y2="7198.0557"/><polygon fill="#181818" points="490,7188.0557,494,7198.0557,498,7188.0557,494,7192.0557" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="424" x="498" y="7177.9614">Check for bidirectional operation (0=stop, 96-2095-&gt;fwd, 2096-4095-&gt;rev)</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8236.0532" y2="8277.4521"/><polygon fill="#181818" points="490,8267.4521,494,8277.4521,498,8267.4521,494,8271.4521" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="498" y="8257.3579">From here Temp5/Temp4 should be at most 3999 (4095-96)</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8311.4209" y2="8331.4209"/><polygon fill="#181818" points="490,8321.4209,494,8331.4209,498,8321.4209,494,8325.4209" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8365.3896" y2="8385.3896"/><polygon fill="#181818" points="490,8375.3896,494,8385.3896,498,8375.3896,494,8379.3896" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8419.3584" y2="8439.3584"/><polygon fill="#181818" points="490,8429.3584,494,8439.3584,498,8429.3584,494,8433.3584" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8473.3271" y2="8493.3271"/><polygon fill="#181818" points="490,8483.3271,494,8493.3271,498,8483.3271,494,8487.3271" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8527.2959" y2="8547.2959"/><polygon fill="#181818" points="490,8537.2959,494,8547.2959,498,8537.2959,494,8541.2959" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8581.2646" y2="8622.6636"/><polygon fill="#181818" points="490,8612.6636,494,8622.6636,498,8612.6636,494,8616.6636" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195" x="498" y="8602.5693">Temp3 = (Temp5::Temp4 / 16) / 5</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8656.6323" y2="8698.0313"/><polygon fill="#181818" points="490,8688.0313,494,8698.0313,498,8688.0313,494,8692.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="498" y="8677.937">Align Temp5::Temp4 to 11bit</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8732" y2="8752"/><polygon fill="#181818" points="490,8742,494,8752,498,8742,494,8746" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8785.9688" y2="8805.9688"/><polygon fill="#181818" points="490,8795.9688,494,8805.9688,498,8795.9688,494,8799.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8839.9375" y2="8859.9375"/><polygon fill="#181818" points="490,8849.9375,494,8859.9375,498,8849.9375,494,8853.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8893.9063" y2="8913.9063"/><polygon fill="#181818" points="490,8903.9063,494,8913.9063,498,8903.9063,494,8907.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="8947.875" y2="8967.875"/><polygon fill="#181818" points="490,8957.875,494,8967.875,498,8957.875,494,8961.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9001.8438" y2="9021.8438"/><polygon fill="#181818" points="490,9011.8438,494,9021.8438,498,9011.8438,494,9015.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9055.8125" y2="9075.8125"/><polygon fill="#181818" points="490,9065.8125,494,9075.8125,498,9065.8125,494,9069.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9109.7813" y2="9129.7813"/><polygon fill="#181818" points="490,9119.7813,494,9129.7813,498,9119.7813,494,9123.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9287.52" y2="9322.52"/><polygon fill="#181818" points="490,9312.52,494,9322.52,498,9312.52,494,9316.52" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9229.1489" y2="9253.5513"/><polygon fill="#181818" points="490,9243.5513,494,9253.5513,498,9243.5513,494,9247.5513" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="544.5" x2="559" y1="9217.1489" y2="9217.1489"/><polygon fill="#181818" points="555,9295.02,559,9305.02,563,9295.02,559,9299.02" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="559" y1="9217.1489" y2="9388.4888"/><line style="stroke:#181818;stroke-width:1.0;" x1="559" x2="506" y1="9388.4888" y2="9388.4888"/><polygon fill="#181818" points="516,9384.4888,506,9388.4888,516,9392.4888,512,9388.4888" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9356.4888" y2="9376.4888"/><polygon fill="#181818" points="490,9366.4888,494,9376.4888,498,9366.4888,494,9370.4888" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9163.75" y2="9205.1489"/><polygon fill="#181818" points="490,9195.1489,494,9205.1489,498,9195.1489,494,9199.1489" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="410" x="498" y="9185.0547">Temp5::Temp4 is now scaled from 0-2000 to 0-2048 (sort of, not exact)</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9551.2622" y2="9592.6611"/><polygon fill="#181818" points="490,9582.6611,494,9592.6611,498,9582.6611,494,9586.6611" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="279" x="498" y="9572.5669">Set power to at least be minimum startup power</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9626.6299" y2="9646.6299"/><polygon fill="#181818" points="490,9636.6299,494,9646.6299,498,9636.6299,494,9640.6299" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9680.5986" y2="9704.1807"/><polygon fill="#181818" points="490,9694.1807,494,9704.1807,498,9694.1807,494,9698.1807" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9803.5483" y2="9827.9507"/><polygon fill="#181818" points="490,9817.9507,494,9827.9507,498,9817.9507,494,9821.9507" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="564.5" y1="9791.5483" y2="9791.5483"/><polygon fill="#181818" points="560.5,9834.9351,564.5,9844.9351,568.5,9834.9351,564.5,9838.9351" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="564.5" y1="9791.5483" y2="9893.9194"/><line style="stroke:#181818;stroke-width:1.0;" x1="564.5" x2="506" y1="9893.9194" y2="9893.9194"/><polygon fill="#181818" points="516,9889.9194,506,9893.9194,516,9897.9194,512,9893.9194" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9861.9194" y2="9881.9194"/><polygon fill="#181818" points="490,9871.9194,494,9881.9194,498,9871.9194,494,9875.9194" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9738.1494" y2="9779.5483"/><polygon fill="#181818" points="490,9769.5483,494,9779.5483,498,9769.5483,494,9773.5483" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="498" y="9759.4541">A &lt; B -&gt; CARRY_BIT == 1</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9492.8911" y2="9517.2935"/><polygon fill="#181818" points="490,9507.2935,494,9517.2935,498,9507.2935,494,9511.2935" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542" x2="787" y1="9480.8911" y2="9480.8911"/><polygon fill="#181818" points="783,9690.5986,787,9700.5986,791,9690.5986,787,9694.5986" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="787" y1="9480.8911" y2="9937.9194"/><line style="stroke:#181818;stroke-width:1.0;" x1="787" x2="506" y1="9937.9194" y2="9937.9194"/><polygon fill="#181818" points="516,9933.9194,506,9937.9194,516,9941.9194,512,9937.9194" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9905.9194" y2="9925.9194"/><polygon fill="#181818" points="490,9915.9194,494,9925.9194,498,9915.9194,494,9919.9194" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9949.9194" y2="9991.3184"/><polygon fill="#181818" points="490,9981.3184,494,9991.3184,498,9981.3184,494,9985.3184" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="498" y="9971.2241">Check stall count</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10127.6582" y2="10147.6582"/><polygon fill="#181818" points="490,10137.6582,494,10147.6582,498,10137.6582,494,10141.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10181.627" y2="10201.627"/><polygon fill="#181818" points="490,10191.627,494,10201.627,498,10191.627,494,10195.627" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10235.5957" y2="10276.9946"/><polygon fill="#181818" points="490,10266.9946,494,10276.9946,498,10266.9946,494,10270.9946" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="251" x="498" y="10256.9004">Temp4 = Temp4 + Startup_Stall_Cnt * 0x40</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10310.9634" y2="10330.9634"/><polygon fill="#181818" points="490,10320.9634,494,10330.9634,498,10320.9634,494,10324.9634" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10364.9321" y2="10384.9321"/><polygon fill="#181818" points="490,10374.9321,494,10384.9321,498,10374.9321,494,10378.9321" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10418.9009" y2="10460.2998"/><polygon fill="#181818" points="490,10450.2998,494,10460.2998,498,10450.2998,494,10454.2998" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="345" x="498" y="10440.2056">Temp5::Temp4 = Temp5::Temp4 + Startup_Stall_Cnt * 0x40</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10069.2871" y2="10093.6895"/><polygon fill="#181818" points="490,10083.6895,494,10093.6895,498,10083.6895,494,10087.6895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="523" x2="853" y1="10057.2871" y2="10057.2871"/><polygon fill="#181818" points="849,10283.979,853,10293.979,857,10283.979,853,10287.979" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="853" x2="853" y1="10057.2871" y2="10526.2686"/><line style="stroke:#181818;stroke-width:1.0;" x1="853" x2="506" y1="10526.2686" y2="10526.2686"/><polygon fill="#181818" points="516,10522.2686,506,10526.2686,516,10530.2686,512,10526.2686" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10494.2686" y2="10514.2686"/><polygon fill="#181818" points="490,10504.2686,494,10514.2686,498,10504.2686,494,10508.2686" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10025.2871" y2="10045.2871"/><polygon fill="#181818" points="490,10035.2871,494,10045.2871,498,10035.2871,494,10039.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9444.4888" y2="9468.8911"/><polygon fill="#181818" points="490,9458.8911,494,9468.8911,498,9458.8911,494,9462.8911" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="671" x2="875" y1="9432.4888" y2="9432.4888"/><polygon fill="#181818" points="871,10012.4668,875,10022.4668,879,10012.4668,875,10016.4668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="875" x2="875" y1="9432.4888" y2="10570.2686"/><line style="stroke:#181818;stroke-width:1.0;" x1="875" x2="506" y1="10570.2686" y2="10570.2686"/><polygon fill="#181818" points="516,10566.2686,506,10570.2686,516,10574.2686,512,10570.2686" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10538.2686" y2="10558.2686"/><polygon fill="#181818" points="490,10548.2686,494,10558.2686,498,10548.2686,494,10552.2686" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="9400.4888" y2="9420.4888"/><polygon fill="#181818" points="490,9410.4888,494,9420.4888,498,9410.4888,494,9414.4888" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10582.2686" y2="10623.6675"/><polygon fill="#181818" points="490,10613.6675,494,10623.6675,498,10613.6675,494,10617.6675" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="273" x="498" y="10603.5732">Convert Temp5::Temp4 rc pulse to a 8 bit value</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10657.6362" y2="10677.6362"/><polygon fill="#181818" points="490,10667.6362,494,10677.6362,498,10667.6362,494,10671.6362" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10711.605" y2="10731.605"/><polygon fill="#181818" points="490,10721.605,494,10731.605,498,10721.605,494,10725.605" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10765.5737" y2="10806.9727"/><polygon fill="#181818" points="490,10796.9727,494,10806.9727,498,10796.9727,494,10800.9727" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="129" x="498" y="10786.8784">Swap lo and hi nibbles</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10840.9414" y2="10882.3403"/><polygon fill="#181818" points="490,10872.3403,494,10882.3403,498,10872.3403,494,10876.3403" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="222" x="498" y="10862.2461">Rolls A to the left, bit 0 gets bit 7 value</text><line style="stroke:#181818;stroke-width:1.0;" x1="572" x2="572" y1="11025.6768" y2="11045.6768"/><polygon fill="#181818" points="568,11035.6768,572,11045.6768,576,11035.6768,572,11039.6768" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="446" x2="416" y1="10969.708" y2="10969.708"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="416" y1="10969.708" y2="10991.708"/><polygon fill="#181818" points="412,10981.708,416,10991.708,420,10981.708,416,10985.708" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542" x2="572" y1="10969.708" y2="10969.708"/><line style="stroke:#181818;stroke-width:1.0;" x1="572" x2="572" y1="10969.708" y2="10991.708"/><polygon fill="#181818" points="568,10981.708,572,10991.708,576,10981.708,572,10985.708" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="416" y1="11025.6768" y2="11097.6455"/><line style="stroke:#181818;stroke-width:1.0;" x1="416" x2="482" y1="11097.6455" y2="11097.6455"/><polygon fill="#181818" points="472,11093.6455,482,11097.6455,472,11101.6455,476,11097.6455" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="572" x2="572" y1="11079.6455" y2="11097.6455"/><line style="stroke:#181818;stroke-width:1.0;" x1="572" x2="506" y1="11097.6455" y2="11097.6455"/><polygon fill="#181818" points="516,11093.6455,506,11097.6455,516,11101.6455,512,11097.6455" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="10916.3091" y2="10957.708"/><polygon fill="#181818" points="490,10947.708,494,10957.708,498,10947.708,494,10951.708" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="498" y="10937.6138">Temp2 = Temp5::Temp4 &gt;&gt; 3</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11153.6455" y2="11178.0479"/><polygon fill="#181818" points="490,11168.0479,494,11178.0479,498,11168.0479,494,11172.0479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="587.5" x2="599.5" y1="11141.6455" y2="11141.6455"/><polygon fill="#181818" points="595.5,11185.0322,599.5,11195.0322,603.5,11185.0322,599.5,11189.0322" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="599.5" x2="599.5" y1="11141.6455" y2="11244.0166"/><line style="stroke:#181818;stroke-width:1.0;" x1="599.5" x2="506" y1="11244.0166" y2="11244.0166"/><polygon fill="#181818" points="516,11240.0166,506,11244.0166,516,11248.0166,512,11244.0166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11212.0166" y2="11232.0166"/><polygon fill="#181818" points="490,11222.0166,494,11232.0166,498,11222.0166,494,11226.0166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11109.6455" y2="11129.6455"/><polygon fill="#181818" points="490,11119.6455,494,11129.6455,498,11119.6455,494,11123.6455" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11256.0166" y2="11297.4155"/><polygon fill="#181818" points="490,11287.4155,494,11297.4155,498,11287.4155,494,11291.4155" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="498" y="11277.3213">Select minimum PWM limit</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11375.3843" y2="11399.7866"/><polygon fill="#181818" points="490,11389.7866,494,11399.7866,498,11389.7866,494,11393.7866" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="589.5" x2="601.5" y1="11363.3843" y2="11363.3843"/><polygon fill="#181818" points="597.5,11406.771,601.5,11416.771,605.5,11406.771,601.5,11410.771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="601.5" x2="601.5" y1="11363.3843" y2="11465.7554"/><line style="stroke:#181818;stroke-width:1.0;" x1="601.5" x2="506" y1="11465.7554" y2="11465.7554"/><polygon fill="#181818" points="516,11461.7554,506,11465.7554,516,11469.7554,512,11465.7554" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11433.7554" y2="11453.7554"/><polygon fill="#181818" points="490,11443.7554,494,11453.7554,498,11443.7554,494,11447.7554" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11331.3843" y2="11351.3843"/><polygon fill="#181818" points="490,11341.3843,494,11351.3843,498,11341.3843,494,11345.3843" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="568" y1="11661.1348" y2="11681.1348"/><polygon fill="#181818" points="564,11671.1348,568,11681.1348,572,11671.1348,568,11675.1348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="568" y1="11715.1035" y2="11735.1035"/><polygon fill="#181818" points="564,11725.1035,568,11735.1035,572,11725.1035,568,11729.1035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="568" y1="11769.0723" y2="11789.0723"/><polygon fill="#181818" points="564,11779.0723,568,11789.0723,572,11779.0723,568,11783.0723" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="568" y1="11823.041" y2="11843.041"/><polygon fill="#181818" points="564,11833.041,568,11843.041,572,11833.041,568,11837.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="420" y1="11605.166" y2="11605.166"/><line style="stroke:#181818;stroke-width:1.0;" x1="420" x2="420" y1="11605.166" y2="11627.166"/><polygon fill="#181818" points="416,11617.166,420,11627.166,424,11617.166,420,11621.166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="568" y1="11605.166" y2="11605.166"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="568" y1="11605.166" y2="11627.166"/><polygon fill="#181818" points="564,11617.166,568,11627.166,572,11617.166,568,11621.166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="420" x2="420" y1="11661.1348" y2="11895.0098"/><line style="stroke:#181818;stroke-width:1.0;" x1="420" x2="482" y1="11895.0098" y2="11895.0098"/><polygon fill="#181818" points="472,11891.0098,482,11895.0098,472,11899.0098,476,11895.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="568" y1="11877.0098" y2="11895.0098"/><line style="stroke:#181818;stroke-width:1.0;" x1="568" x2="506" y1="11895.0098" y2="11895.0098"/><polygon fill="#181818" points="516,11891.0098,506,11895.0098,516,11899.0098,512,11895.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11568.7637" y2="11593.166"/><polygon fill="#181818" points="490,11583.166,494,11593.166,498,11583.166,494,11587.166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="553.5" x2="799" y1="11556.7637" y2="11556.7637"/><polygon fill="#181818" points="795,11740.0879,799,11750.0879,803,11740.0879,799,11744.0879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="799" x2="799" y1="11556.7637" y2="11939.0098"/><line style="stroke:#181818;stroke-width:1.0;" x1="799" x2="506" y1="11939.0098" y2="11939.0098"/><polygon fill="#181818" points="516,11935.0098,506,11939.0098,516,11943.0098,512,11939.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11907.0098" y2="11927.0098"/><polygon fill="#181818" points="490,11917.0098,494,11927.0098,498,11917.0098,494,11921.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11477.7554" y2="11544.7637"/><polygon fill="#181818" points="490,11534.7637,494,11544.7637,498,11534.7637,494,11538.7637" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="498" y="11499.0601">Apply pwm limit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="506" y="11511.8647">Temp2 is 8 bit rc pulse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="506" y="11524.6694">Temp6 is Pwm limit</text><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12083.4937" y2="12103.4937"/><polygon fill="#181818" points="186,12093.4937,190,12103.4937,194,12093.4937,190,12097.4937" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12137.4624" y2="12157.4624"/><polygon fill="#181818" points="186,12147.4624,190,12157.4624,194,12147.4624,190,12151.4624" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12191.4312" y2="12211.4312"/><polygon fill="#181818" points="186,12201.4312,190,12211.4312,194,12201.4312,190,12205.4312" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12245.3999" y2="12265.3999"/><polygon fill="#181818" points="186,12255.3999,190,12265.3999,194,12255.3999,190,12259.3999" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12299.3687" y2="12322.771"/><polygon fill="#181818" points="186,12312.771,190,12322.771,194,12312.771,190,12316.771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12356.7397" y2="12398.1387"/><polygon fill="#181818" points="186,12388.1387,190,12398.1387,194,12388.1387,190,12392.1387" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="194" y="12378.0444">Temp3::Temp2 = ~Temp5::Temp4</text><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12083.4937" y2="12103.4937"/><polygon fill="#181818" points="488.5,12093.4937,492.5,12103.4937,496.5,12093.4937,492.5,12097.4937" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12137.4624" y2="12157.4624"/><polygon fill="#181818" points="488.5,12147.4624,492.5,12157.4624,496.5,12147.4624,492.5,12151.4624" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12191.4312" y2="12211.4312"/><polygon fill="#181818" points="488.5,12201.4312,492.5,12211.4312,496.5,12201.4312,492.5,12205.4312" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12245.3999" y2="12265.3999"/><polygon fill="#181818" points="488.5,12255.3999,492.5,12265.3999,496.5,12255.3999,492.5,12259.3999" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12299.3687" y2="12322.771"/><polygon fill="#181818" points="488.5,12312.771,492.5,12322.771,496.5,12312.771,492.5,12316.771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12356.7397" y2="12385.334"/><polygon fill="#181818" points="488.5,12375.334,492.5,12385.334,496.5,12375.334,492.5,12379.334" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12419.3027" y2="12454.3027"/><polygon fill="#181818" points="488.5,12444.3027,492.5,12454.3027,496.5,12444.3027,492.5,12448.3027" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12488.2715" y2="12511.6738"/><polygon fill="#181818" points="488.5,12501.6738,492.5,12511.6738,496.5,12501.6738,492.5,12505.6738" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12545.6426" y2="12565.6426"/><polygon fill="#181818" points="488.5,12555.6426,492.5,12565.6426,496.5,12555.6426,492.5,12559.6426" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12083.4937" y2="12103.4937"/><polygon fill="#181818" points="669.5,12093.4937,673.5,12103.4937,677.5,12093.4937,673.5,12097.4937" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12137.4624" y2="12157.4624"/><polygon fill="#181818" points="669.5,12147.4624,673.5,12157.4624,677.5,12147.4624,673.5,12151.4624" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12191.4312" y2="12211.4312"/><polygon fill="#181818" points="669.5,12201.4312,673.5,12211.4312,677.5,12201.4312,673.5,12205.4312" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12245.3999" y2="12265.3999"/><polygon fill="#181818" points="669.5,12255.3999,673.5,12265.3999,677.5,12255.3999,673.5,12259.3999" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12299.3687" y2="12322.771"/><polygon fill="#181818" points="669.5,12312.771,673.5,12322.771,677.5,12312.771,673.5,12316.771" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12356.7397" y2="12385.334"/><polygon fill="#181818" points="669.5,12375.334,673.5,12385.334,677.5,12375.334,673.5,12379.334" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12419.3027" y2="12454.3027"/><polygon fill="#181818" points="669.5,12444.3027,673.5,12454.3027,677.5,12444.3027,673.5,12448.3027" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12488.2715" y2="12511.6738"/><polygon fill="#181818" points="669.5,12501.6738,673.5,12511.6738,677.5,12501.6738,673.5,12505.6738" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12545.6426" y2="12565.6426"/><polygon fill="#181818" points="669.5,12555.6426,673.5,12565.6426,677.5,12555.6426,673.5,12559.6426" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12599.6113" y2="12619.6113"/><polygon fill="#181818" points="669.5,12609.6113,673.5,12619.6113,677.5,12609.6113,673.5,12613.6113" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12653.5801" y2="12673.5801"/><polygon fill="#181818" points="669.5,12663.5801,673.5,12673.5801,677.5,12663.5801,673.5,12667.5801" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12707.5488" y2="12727.5488"/><polygon fill="#181818" points="669.5,12717.5488,673.5,12727.5488,677.5,12717.5488,673.5,12721.5488" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12761.5176" y2="12781.5176"/><polygon fill="#181818" points="669.5,12771.5176,673.5,12781.5176,677.5,12771.5176,673.5,12775.5176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="818" x2="818" y1="12353.3374" y2="12381.9316"/><polygon fill="#181818" points="814,12371.9316,818,12381.9316,822,12371.9316,818,12375.9316" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="818" x2="818" y1="12415.9004" y2="12450.9004"/><polygon fill="#181818" points="814,12440.9004,818,12450.9004,822,12440.9004,818,12444.9004" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="818" x2="818" y1="12484.8691" y2="12508.2715"/><polygon fill="#181818" points="814,12498.2715,818,12508.2715,822,12498.2715,818,12502.2715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12017.8145" y2="12049.5249"/><polygon fill="#181818" points="186,12039.5249,190,12049.5249,194,12039.5249,190,12043.5249" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="12432.1074" y2="12835.4863"/><polygon fill="#181818" points="186,12825.4863,190,12835.4863,194,12825.4863,190,12829.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12017.8145" y2="12049.5249"/><polygon fill="#181818" points="488.5,12039.5249,492.5,12049.5249,496.5,12039.5249,492.5,12043.5249" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="492.5" x2="492.5" y1="12599.6113" y2="12835.4863"/><polygon fill="#181818" points="488.5,12825.4863,492.5,12835.4863,496.5,12825.4863,492.5,12829.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12017.8145" y2="12049.5249"/><polygon fill="#181818" points="669.5,12039.5249,673.5,12049.5249,677.5,12039.5249,673.5,12043.5249" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="673.5" x2="673.5" y1="12815.4863" y2="12835.4863"/><polygon fill="#181818" points="669.5,12825.4863,673.5,12835.4863,677.5,12825.4863,673.5,12829.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="254" x2="428.5" y1="12005.8145" y2="12005.8145"/><polygon fill="#181818" points="418.5,12001.8145,428.5,12005.8145,418.5,12009.8145,422.5,12005.8145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="556.5" x2="609.5" y1="12005.8145" y2="12005.8145"/><polygon fill="#181818" points="599.5,12001.8145,609.5,12005.8145,599.5,12009.8145,603.5,12005.8145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="190" y1="11978.8145" y2="11978.8145"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="190" y1="11978.8145" y2="11993.8145"/><polygon fill="#181818" points="186,11983.8145,190,11993.8145,194,11983.8145,190,11987.8145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="737.5" x2="818" y1="12005.8145" y2="12005.8145"/><line style="stroke:#181818;stroke-width:1.0;" x1="818" x2="818" y1="12005.8145" y2="12319.3687"/><polygon fill="#181818" points="814,12309.3687,818,12319.3687,822,12309.3687,818,12313.3687" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="818" x2="818" y1="12542.2402" y2="12835.4863"/><polygon fill="#181818" points="814,12825.4863,818,12835.4863,822,12825.4863,818,12829.4863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="190" x2="818" y1="12835.4863" y2="12835.4863"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="11951.0098" y2="11978.8145"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="367" x="498" y="11972.3145">Scale pwm resolution and invert (duty cycle is defined inversely)</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13007.6587" y2="13027.6587"/><polygon fill="#181818" points="490,13017.6587,494,13027.6587,498,13017.6587,494,13021.6587" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13061.6274" y2="13081.6274"/><polygon fill="#181818" points="490,13071.6274,494,13081.6274,498,13071.6274,494,13075.6274" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13115.5962" y2="13156.9951"/><polygon fill="#181818" points="490,13146.9951,494,13156.9951,498,13146.9951,494,13150.9951" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="498" y="13136.9009">A contains the index into dithering patterns</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13190.9639" y2="13232.3628"/><polygon fill="#181818" points="490,13222.3628,494,13232.3628,498,13222.3628,494,13226.3628" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="364" x="498" y="13212.2686">Reuse DSHOT pwm pointer because at this point it is not in use</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13266.3315" y2="13307.7305"/><polygon fill="#181818" points="490,13297.7305,494,13307.7305,498,13297.7305,494,13301.7305" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="498" y="13287.6362">Read pattern</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13341.6992" y2="13383.0981"/><polygon fill="#181818" points="490,13373.0981,494,13383.0981,498,13373.0981,494,13377.0981" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="498" y="13363.0039">Rotate pattern</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13417.0669" y2="13458.4658"/><polygon fill="#181818" points="490,13448.4658,494,13458.4658,498,13448.4658,494,13452.4658" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="498" y="13438.3716">Store pattern</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13594.8057" y2="13614.8057"/><polygon fill="#181818" points="490,13604.8057,494,13614.8057,498,13604.8057,494,13608.8057" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13648.7744" y2="13668.7744"/><polygon fill="#181818" points="490,13658.7744,494,13668.7744,498,13658.7744,494,13662.7744" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13853.5166" y2="13873.5166"/><polygon fill="#181818" points="490,13863.5166,494,13873.5166,498,13863.5166,494,13867.5166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13907.4854" y2="13927.4854"/><polygon fill="#181818" points="490,13917.4854,494,13927.4854,498,13917.4854,494,13921.4854" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14009.0361" y2="14033.4385"/><polygon fill="#181818" points="490,14023.4385,494,14033.4385,498,14023.4385,494,14027.4385" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="575.5" y1="13997.0361" y2="13997.0361"/><polygon fill="#181818" points="571.5,14040.4229,575.5,14050.4229,579.5,14040.4229,575.5,14044.4229" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="575.5" x2="575.5" y1="13997.0361" y2="14099.4072"/><line style="stroke:#181818;stroke-width:1.0;" x1="575.5" x2="506" y1="14099.4072" y2="14099.4072"/><polygon fill="#181818" points="516,14095.4072,506,14099.4072,516,14103.4072,512,14099.4072" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14067.4072" y2="14087.4072"/><polygon fill="#181818" points="490,14077.4072,494,14087.4072,498,14077.4072,494,14081.4072" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13961.4541" y2="13985.0361"/><polygon fill="#181818" points="490,13975.0361,494,13985.0361,498,13975.0361,494,13979.0361" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13795.1455" y2="13819.5479"/><polygon fill="#181818" points="490,13809.5479,494,13819.5479,498,13809.5479,494,13813.5479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="555" x2="597" y1="13783.1455" y2="13783.1455"/><polygon fill="#181818" points="593,13948.3877,597,13958.3877,601,13948.3877,597,13952.3877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="597" x2="597" y1="13783.1455" y2="14143.4072"/><line style="stroke:#181818;stroke-width:1.0;" x1="597" x2="506" y1="14143.4072" y2="14143.4072"/><polygon fill="#181818" points="516,14139.4072,506,14143.4072,516,14147.4072,512,14143.4072" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14111.4072" y2="14131.4072"/><polygon fill="#181818" points="490,14121.4072,494,14131.4072,498,14121.4072,494,14125.4072" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14155.4072" y2="14175.4072"/><polygon fill="#181818" points="490,14165.4072,494,14175.4072,498,14165.4072,494,14169.4072" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13746.7432" y2="13771.1455"/><polygon fill="#181818" points="490,13761.1455,494,13771.1455,498,13761.1455,494,13765.1455" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="526" x2="619" y1="13734.7432" y2="13734.7432"/><polygon fill="#181818" points="615,13971.4541,619,13981.4541,623,13971.4541,619,13975.4541" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="619" x2="619" y1="13734.7432" y2="14241.376"/><line style="stroke:#181818;stroke-width:1.0;" x1="619" x2="506" y1="14241.376" y2="14241.376"/><polygon fill="#181818" points="516,14237.376,506,14241.376,516,14245.376,512,14241.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14209.376" y2="14229.376"/><polygon fill="#181818" points="490,14219.376,494,14229.376,498,14219.376,494,14223.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13702.7432" y2="13722.7432"/><polygon fill="#181818" points="490,13712.7432,494,13722.7432,498,13712.7432,494,13716.7432" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13536.4346" y2="13560.8369"/><polygon fill="#181818" points="490,13550.8369,494,13560.8369,498,13550.8369,494,13554.8369" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="531.5" x2="641" y1="13524.4346" y2="13524.4346"/><polygon fill="#181818" points="637,13894.4189,641,13904.4189,645,13894.4189,641,13898.4189" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="641" x2="641" y1="13524.4346" y2="14285.376"/><line style="stroke:#181818;stroke-width:1.0;" x1="641" x2="506" y1="14285.376" y2="14285.376"/><polygon fill="#181818" points="516,14281.376,506,14285.376,516,14289.376,512,14285.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14253.376" y2="14273.376"/><polygon fill="#181818" points="490,14263.376,494,14273.376,498,14263.376,494,14267.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="13492.4346" y2="13512.4346"/><polygon fill="#181818" points="490,13502.4346,494,13512.4346,498,13502.4346,494,13506.4346" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="12949.2876" y2="12973.6899"/><polygon fill="#181818" points="490,12963.6899,494,12973.6899,498,12963.6899,494,12967.6899" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="562.5" x2="872" y1="12937.2876" y2="12937.2876"/><polygon fill="#181818" points="868,13631.5322,872,13641.5322,876,13631.5322,872,13635.5322" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872" x2="872" y1="12937.2876" y2="14329.376"/><line style="stroke:#181818;stroke-width:1.0;" x1="872" x2="506" y1="14329.376" y2="14329.376"/><polygon fill="#181818" points="516,14325.376,506,14329.376,516,14333.376,512,14329.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14297.376" y2="14317.376"/><polygon fill="#181818" points="490,14307.376,494,14317.376,498,14307.376,494,14311.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="12900.8853" y2="12925.2876"/><polygon fill="#181818" points="490,12915.2876,494,12925.2876,498,12915.2876,494,12919.2876" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="553.5" x2="894" y1="12888.8853" y2="12888.8853"/><polygon fill="#181818" points="890,13631.5322,894,13641.5322,898,13631.5322,894,13635.5322" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894" x2="894" y1="12888.8853" y2="14373.376"/><line style="stroke:#181818;stroke-width:1.0;" x1="894" x2="506" y1="14373.376" y2="14373.376"/><polygon fill="#181818" points="516,14369.376,506,14373.376,516,14377.376,512,14373.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14341.376" y2="14361.376"/><polygon fill="#181818" points="490,14351.376,494,14361.376,498,14351.376,494,14355.376" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="12835.4863" y2="12876.8853"/><polygon fill="#181818" points="490,12866.8853,494,12876.8853,498,12866.8853,494,12870.8853" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="242" x="498" y="12856.791">11-bit effective dithering of 8/9/10-bit pwm</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14515.5483" y2="14556.9473"/><polygon fill="#181818" points="490,14546.9473,494,14556.9473,498,14546.9473,494,14550.9473" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="498" y="14536.853">Skew damping FET timing</text><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="399.5" y1="14622.916" y2="14622.916"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="399.5" y1="14622.916" y2="14644.916"/><polygon fill="#181818" points="395.5,14634.916,399.5,14644.916,403.5,14634.916,399.5,14638.916" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="588.5" y1="14622.916" y2="14622.916"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="14622.916" y2="14644.916"/><polygon fill="#181818" points="584.5,14634.916,588.5,14644.916,592.5,14634.916,588.5,14638.916" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="399.5" y1="14678.8848" y2="14696.8848"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="482" y1="14696.8848" y2="14696.8848"/><polygon fill="#181818" points="472,14692.8848,482,14696.8848,472,14700.8848,476,14696.8848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="14678.8848" y2="14696.8848"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="506" y1="14696.8848" y2="14696.8848"/><polygon fill="#181818" points="516,14692.8848,506,14696.8848,516,14700.8848,512,14696.8848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14590.916" y2="14610.916"/><polygon fill="#181818" points="490,14600.916,494,14610.916,498,14600.916,494,14604.916" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14708.8848" y2="14728.8848"/><polygon fill="#181818" points="490,14718.8848,494,14728.8848,498,14718.8848,494,14722.8848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14762.8535" y2="14782.8535"/><polygon fill="#181818" points="490,14772.8535,494,14782.8535,498,14772.8535,494,14776.8535" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14816.8223" y2="14836.8223"/><polygon fill="#181818" points="490,14826.8223,494,14836.8223,498,14826.8223,494,14830.8223" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14870.791" y2="14890.791"/><polygon fill="#181818" points="490,14880.791,494,14890.791,498,14880.791,494,14884.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="399.5" y1="15012.7285" y2="15032.7285"/><polygon fill="#181818" points="395.5,15022.7285,399.5,15032.7285,403.5,15022.7285,399.5,15026.7285" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="399.5" y1="15066.6973" y2="15086.6973"/><polygon fill="#181818" points="395.5,15076.6973,399.5,15086.6973,403.5,15076.6973,399.5,15080.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15012.7285" y2="15032.7285"/><polygon fill="#181818" points="584.5,15022.7285,588.5,15032.7285,592.5,15022.7285,588.5,15026.7285" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15066.6973" y2="15086.6973"/><polygon fill="#181818" points="584.5,15076.6973,588.5,15086.6973,592.5,15076.6973,588.5,15080.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15120.666" y2="15140.666"/><polygon fill="#181818" points="584.5,15130.666,588.5,15140.666,592.5,15130.666,588.5,15134.666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15174.6348" y2="15194.6348"/><polygon fill="#181818" points="584.5,15184.6348,588.5,15194.6348,592.5,15184.6348,588.5,15188.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15330.9746" y2="15365.9746"/><polygon fill="#181818" points="584.5,15355.9746,588.5,15365.9746,592.5,15355.9746,588.5,15359.9746" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15272.6035" y2="15297.0059"/><polygon fill="#181818" points="584.5,15287.0059,588.5,15297.0059,592.5,15287.0059,588.5,15291.0059" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="647" x2="686.5" y1="15260.6035" y2="15260.6035"/><polygon fill="#181818" points="682.5,15338.4746,686.5,15348.4746,690.5,15338.4746,686.5,15342.4746" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="686.5" x2="686.5" y1="15260.6035" y2="15431.9434"/><line style="stroke:#181818;stroke-width:1.0;" x1="686.5" x2="600.5" y1="15431.9434" y2="15431.9434"/><polygon fill="#181818" points="610.5,15427.9434,600.5,15431.9434,610.5,15435.9434,606.5,15431.9434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15399.9434" y2="15419.9434"/><polygon fill="#181818" points="584.5,15409.9434,588.5,15419.9434,592.5,15409.9434,588.5,15413.9434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15228.6035" y2="15248.6035"/><polygon fill="#181818" points="584.5,15238.6035,588.5,15248.6035,592.5,15238.6035,588.5,15242.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="462" x2="399.5" y1="14956.7598" y2="14956.7598"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="399.5" y1="14956.7598" y2="14978.7598"/><polygon fill="#181818" points="395.5,14968.7598,399.5,14978.7598,403.5,14968.7598,399.5,14972.7598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="526" x2="588.5" y1="14956.7598" y2="14956.7598"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="14956.7598" y2="14978.7598"/><polygon fill="#181818" points="584.5,14968.7598,588.5,14978.7598,592.5,14968.7598,588.5,14972.7598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="399.5" y1="15120.666" y2="15461.9434"/><line style="stroke:#181818;stroke-width:1.0;" x1="399.5" x2="482" y1="15461.9434" y2="15461.9434"/><polygon fill="#181818" points="472,15457.9434,482,15461.9434,472,15465.9434,476,15461.9434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="588.5" y1="15443.9434" y2="15461.9434"/><line style="stroke:#181818;stroke-width:1.0;" x1="588.5" x2="506" y1="15461.9434" y2="15461.9434"/><polygon fill="#181818" points="516,15457.9434,506,15461.9434,516,15465.9434,512,15461.9434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14924.7598" y2="14944.7598"/><polygon fill="#181818" points="490,14934.7598,494,14944.7598,498,14934.7598,494,14938.7598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14450.7749" y2="14481.5796"/><polygon fill="#181818" points="490,14471.5796,494,14481.5796,498,14471.5796,494,14475.5796" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.5" x2="733.5" y1="14438.7749" y2="14438.7749"/><polygon fill="#181818" points="729.5,14959.2598,733.5,14969.2598,737.5,14959.2598,733.5,14963.2598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="733.5" x2="733.5" y1="14438.7749" y2="15505.9434"/><line style="stroke:#181818;stroke-width:1.0;" x1="733.5" x2="506" y1="15505.9434" y2="15505.9434"/><polygon fill="#181818" points="516,15501.9434,506,15505.9434,516,15509.9434,512,15505.9434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="15473.9434" y2="15493.9434"/><polygon fill="#181818" points="490,15483.9434,494,15493.9434,498,15483.9434,494,15487.9434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="14385.376" y2="14426.7749"/><polygon fill="#181818" points="490,14416.7749,494,14426.7749,498,14416.7749,494,14420.7749" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="498" y="14406.6807">Set pwm registers</text><line style="stroke:#181818;stroke-width:1.0;" x1="376.75" x2="376.75" y1="15652.9204" y2="15672.9204"/><polygon fill="#181818" points="372.75,15662.9204,376.75,15672.9204,380.75,15662.9204,376.75,15666.9204" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="376.75" y1="15596.9517" y2="15596.9517"/><line style="stroke:#181818;stroke-width:1.0;" x1="376.75" x2="376.75" y1="15596.9517" y2="15618.9517"/><polygon fill="#181818" points="372.75,15608.9517,376.75,15618.9517,380.75,15608.9517,376.75,15612.9517" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="555" x2="611.25" y1="15596.9517" y2="15596.9517"/><line style="stroke:#181818;stroke-width:1.0;" x1="611.25" x2="611.25" y1="15596.9517" y2="15618.9517"/><polygon fill="#181818" points="607.25,15608.9517,611.25,15618.9517,615.25,15608.9517,611.25,15612.9517" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="376.75" x2="376.75" y1="15706.8892" y2="15724.8892"/><line style="stroke:#181818;stroke-width:1.0;" x1="376.75" x2="482" y1="15724.8892" y2="15724.8892"/><polygon fill="#181818" points="472,15720.8892,482,15724.8892,472,15728.8892,476,15724.8892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="611.25" x2="611.25" y1="15652.9204" y2="15724.8892"/><line style="stroke:#181818;stroke-width:1.0;" x1="611.25" x2="506" y1="15724.8892" y2="15724.8892"/><polygon fill="#181818" points="516,15720.8892,506,15724.8892,516,15728.8892,512,15724.8892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="15517.9434" y2="15584.9517"/><polygon fill="#181818" points="490,15574.9517,494,15584.9517,498,15574.9517,494,15578.9517" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="498" y="15539.248">Note: Interrupts are not explicitly disabled</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="428" x="498" y="15552.0527">Assume higher priority interrupts (Int0, Timer0) to be disabled at this point</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="498" y="15564.8574">Set pwm registers</text><line style="stroke:#181818;stroke-width:1.0;" x1="377.75" x2="377.75" y1="15894.6592" y2="15929.6592"/><polygon fill="#181818" points="373.75,15919.6592,377.75,15929.6592,381.75,15919.6592,377.75,15923.6592" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="433" x2="377.75" y1="15838.6904" y2="15838.6904"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.75" x2="377.75" y1="15838.6904" y2="15860.6904"/><polygon fill="#181818" points="373.75,15850.6904,377.75,15860.6904,381.75,15850.6904,377.75,15854.6904" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="555" x2="610.25" y1="15838.6904" y2="15838.6904"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.25" x2="610.25" y1="15838.6904" y2="15860.6904"/><polygon fill="#181818" points="606.25,15850.6904,610.25,15860.6904,614.25,15850.6904,610.25,15854.6904" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.75" x2="377.75" y1="15963.6279" y2="15981.6279"/><line style="stroke:#181818;stroke-width:1.0;" x1="377.75" x2="482" y1="15981.6279" y2="15981.6279"/><polygon fill="#181818" points="472,15977.6279,482,15981.6279,472,15985.6279,476,15981.6279" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.25" x2="610.25" y1="15894.6592" y2="15981.6279"/><line style="stroke:#181818;stroke-width:1.0;" x1="610.25" x2="506" y1="15981.6279" y2="15981.6279"/><polygon fill="#181818" points="516,15977.6279,506,15981.6279,516,15985.6279,512,15981.6279" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="15802.2881" y2="15826.6904"/><polygon fill="#181818" points="490,15816.6904,494,15826.6904,498,15816.6904,494,15820.6904" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.5" x2="735.75" y1="15790.2881" y2="15790.2881"/><polygon fill="#181818" points="731.75,15900.1592,735.75,15910.1592,739.75,15900.1592,735.75,15904.1592" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="735.75" x2="735.75" y1="15790.2881" y2="16025.6279"/><line style="stroke:#181818;stroke-width:1.0;" x1="735.75" x2="506" y1="16025.6279" y2="16025.6279"/><polygon fill="#181818" points="516,16021.6279,506,16025.6279,516,16029.6279,512,16025.6279" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="15993.6279" y2="16013.6279"/><polygon fill="#181818" points="490,16003.6279,494,16013.6279,498,16003.6279,494,16007.6279" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="15736.8892" y2="15778.2881"/><polygon fill="#181818" points="490,15768.2881,494,15778.2881,498,15768.2881,494,15772.2881" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="498" y="15758.1938">Set deadtime registers</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="16037.6279" y2="16079.0269"/><polygon fill="#181818" points="490,16069.0269,494,16079.0269,498,16069.0269,494,16073.0269" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="498" y="16058.9326">Set timeout count</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16223.168" y2="16264.5669"/><polygon fill="#181818" points="260.5,16254.5669,264.5,16264.5669,268.5,16254.5669,264.5,16258.5669" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="268.5" y="16244.4727">Timer0 runs free not gated by Int0</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16298.5356" y2="16356.9497"/><polygon fill="#181818" points="260.5,16346.9497,264.5,16356.9497,268.5,16346.9497,264.5,16350.9497" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="268.5" y="16324.0508">Configure RTX_PIN for digital output</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="268.5" y="16336.8555">Default to high level</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16390.9185" y2="16438.7231"/><polygon fill="#181818" points="260.5,16428.7231,264.5,16438.7231,268.5,16428.7231,264.5,16432.7231" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="268.5" y="16418.6289">Set output mode to push-pull</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16472.6919" y2="16514.0908"/><polygon fill="#181818" points="260.5,16504.0908,264.5,16514.0908,268.5,16504.0908,264.5,16508.0908" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="268.5" y="16493.9966">Set tx pointer to start</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16548.0596" y2="16602.2632"/><polygon fill="#181818" points="260.5,16592.2632,264.5,16602.2632,268.5,16592.2632,264.5,16596.2632" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="391" x="268.5" y="16569.3643">Note: Delay must be large enough to ensure port is ready for output</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="268.5" y="16582.1689">Telemetry will begin after this delay</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16636.2319" y2="16677.6309"/><polygon fill="#181818" points="260.5,16667.6309,264.5,16677.6309,268.5,16667.6309,264.5,16671.6309" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="268.5" y="16657.5366">Clear Timer0 overflow flag</text><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16711.5996" y2="16752.9985"/><polygon fill="#181818" points="260.5,16742.9985,264.5,16752.9985,268.5,16742.9985,264.5,16746.9985" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="268.5" y="16732.9043">Enable Timer0 interrupts</text><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="723.5" y1="16223.168" y2="16251.7622"/><polygon fill="#181818" points="719.5,16241.7622,723.5,16251.7622,727.5,16241.7622,723.5,16245.7622" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="723.5" y1="16285.731" y2="16318.5356"/><polygon fill="#181818" points="719.5,16308.5356,723.5,16318.5356,727.5,16308.5356,723.5,16312.5356" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="723.5" y1="16352.5044" y2="16387.5044"/><polygon fill="#181818" points="719.5,16377.5044,723.5,16387.5044,727.5,16377.5044,723.5,16381.5044" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="296" x2="264.5" y1="16167.1992" y2="16167.1992"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16167.1992" y2="16189.1992"/><polygon fill="#181818" points="260.5,16179.1992,264.5,16189.1992,268.5,16179.1992,264.5,16183.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="692" x2="723.5" y1="16167.1992" y2="16167.1992"/><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="723.5" y1="16167.1992" y2="16189.1992"/><polygon fill="#181818" points="719.5,16179.1992,723.5,16189.1992,727.5,16179.1992,723.5,16183.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="16786.9673" y2="16804.9673"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="482" y1="16804.9673" y2="16804.9673"/><polygon fill="#181818" points="472,16800.9673,482,16804.9673,472,16808.9673,476,16804.9673" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="723.5" y1="16421.4731" y2="16804.9673"/><line style="stroke:#181818;stroke-width:1.0;" x1="723.5" x2="506" y1="16804.9673" y2="16804.9673"/><polygon fill="#181818" points="516,16800.9673,506,16804.9673,516,16808.9673,512,16804.9673" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="16112.9956" y2="16155.1992"/><polygon fill="#181818" points="490,16145.1992,494,16155.1992,498,16145.1992,494,16149.1992" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="498" y="16134.3003">Prepare DShot telemetry</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="16816.9673" y2="16858.3662"/><polygon fill="#181818" points="490,16848.3662,494,16858.3662,498,16848.3662,494,16852.3662" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="262" x="498" y="16838.272">Restore registers and status word from stack</text><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="16892.335" y2="16912.335"/><polygon fill="#181818" points="490,16902.335,494,16912.335,498,16902.335,494,16906.335" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="16946.3037" y2="16966.3037"/><polygon fill="#181818" points="490,16956.3037,494,16966.3037,498,16956.3037,494,16960.3037" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="17000.2725" y2="17020.2725"/><polygon fill="#181818" points="490,17010.2725,494,17020.2725,498,17010.2725,494,17014.2725" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="494" y1="17054.2412" y2="17074.2412"/><polygon fill="#181818" points="490,17064.2412,494,17074.2412,498,17064.2412,494,17068.2412" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[e40c43ae14ae66cce852bdc13599b8e8]
@startuml 
start
->Timer1 interrupt routine:

  Decode DShot frame
  Process new throttle value and update pwm registers
  Schedule DShot telemetry

Datas:
	Uses register bank 1
	Temp1 - Telemetry tx/rx buffer pointer

Disable Int0 interrupts;
:clr IE_EX0;
->Stop timer 1;
:clr TCON_TR1;
->Reset sync timer;
:mov TL1, DShot_Timer_Preset;
->Select register bank 1 and push used registers in stack;
:push PSW;
:mov PSW, #8h;
:push ACC;
:push B;

->Note: Interrupts are not explicitly disabled
Assume higher priority interrupts (Int0, Timer0) to be disabled at this point

Disable, read, and enable timer 2;
:clr TMR2CN0_TR2;
:Temp2 = TMR2L;
:Temp3 = TMR2H;
:setb TMR2CN0_TR2;

->Check frame time length;
:Temp2 -= DShot_Frame_Start_L;

if ((Temp3 != DShot_Frame_Start_H) || 
    (Temp2 < DShot_Frame_Length_Thr) || 
    (Temp2 > 2 * DShot_Frame_Length_Thr) ||
    (Temp1 != 16)) then
  ->yes -> Frame too long or
  frame too short or
  rx pointer != 16;
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif

->no -> Start decoding received data
Set pointer to 0;
:Temp1 = 0;
->DSHOT pulse width depending on detected speed on startup;
:Temp2 = DShot_Pwm_Thr;
->Reset timestamp;
:Temp6 = 0;
->Decode DShot data Msb. Use more code space to save time (by not using loop);
if (NOT Decode_DShot_2Bit(Temp5)) then
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
if (NOT Decode_DShot_2Bit(Temp5)) then
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
->Decode DShot data Lsb;
if (NOT Decode_DShot_2Bit(Temp4)) then (yes)
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
if (NOT Decode_DShot_2Bit(Temp4)) then (yes)
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
if (NOT Decode_DShot_2Bit(Temp4)) then (yes)
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
if (NOT Decode_DShot_2Bit(Temp4)) then (yes)
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
->Decode DShot data checksum;
if (NOT Decode_DShot_2Bit(Temp3)) then (yes)
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
if (NOT Decode_DShot_2Bit(Temp3)) then (yes)
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
->At this point Temp3 lo nibble contains crc
Temp4 contains DSHOT lowest 8 bit data
Temp5 contains DSHOT hiest 4 bit data
crc_calculated = (value ^ (value >> 4) ^ (value >> 8)) & 0x0F;
:A = Temp4;
:swap A;
: A = A ^ Temp4;
: A = A ^ Temp5;
: A = A ^ Temp3;
if (Flag_Rcp_DShot_Inverted) then
  ->yes -> Invert A;
  :A = ~A;
endif
:A = A & 0x0f;
if (A != 0) then
  ->yes -> crc doesn't match;
  :OutsideRange();
  ->Restore registers and status word from stack;
  :pop B;
  :pop ACC;
  :pop PSW;
  :reti;
  stop
endif
->Invert dshot data and substract 96;
:A = Temp4;
:A = ~A;
->Temp3 now has dshot lo data byte inverted;
:Temp3 = A;
:A -= 96;
->Temp4 now has dshot lo data byte inverted -96 in case it is a DSHOT command
Be aware that there is a CARRY_BIT as result of this substraction;
:Temp4 = A;
:A = Temp5;
:A = ~A;
:A &= 0x0F;
:A = A - (0 + CARRY_BIT);
:Temp5 = A;
if (Temp5::Temp4 < 96) then
  ->yes -> DSHOT command range;
  :A = Temp3;
  :Temp4 = 0;
  :Temp5 = 0;
  if (A == 0) then
    ->yes -> Clear current ongoing command if any;
    :DShot_Cmd = 0;
    :DShot_Cmd_Cnt = 0;
  else
    ->no -> Check carry is correct;
    :CARRY_BIT = 0;
    :A = A >> 1;
    ->CARRY_BIT now has the previous lowest bit in A;
    if (CARRY_BIT == 0) then
      ->yes -> Carry bit is incorrect. Incorrect DSHOT command;
      :DShot_Cmd = 0;
      :DShot_Cmd_Cnt = 0;
    else if (A != DShot_Cmd) then
      ->yes -> New command different to the previous one;
      :DShot_Cmd = A;
      :DShot_Cmd_Cnt = 0;
    else
      ->no -> Same command as previous one;
      :DShot_Cmd_Cnt++;
    endif
  endif
endif
->Check for bidirectional operation (0=stop, 96-2095->fwd, 2096-4095->rev);
if (Flag_Pgm_Bidir == 1) then
  ->yes -> substract 2000 still 12bit;
  :CARRY_BIT = 0;
  :A = Temp4;
  :A -= 0xD0;
  :B = A;
  :A = Temp5;
  :A -= 0x07;
  ->A::B now is Temp5::Temp4 - 2000;
  if (A::B > 2000) then
    ->yes -> Use substracted value;
    :Temp5 = A;
    :Temp4 = B;
  endif
  ->Check programmed direction;
  if (Flag_Pgm_Dir_Rev == 1) then
    ->yes -> Reverse direction;
    :CARRY_BIT = ~CARRY_BIT;
  endif
  :Flag_Rcp_Dir_Rev = CARRY_BIT;
  ->Multiply throttle value by 2;
  :CARRY_BIT = 0;
  :Temp4 = Temp4 << 1;
  :Temp5 = Temp5 << 1;
endif
->From here Temp5/Temp4 should be at most 3999 (4095-96);
:A = Temp4;
:A = A & 0xF0;
:A = A | Temp5;
:swap A;
:B = 5;
:A = A / B;
->Temp3 = (Temp5::Temp4 / 16) / 5;
:Temp3 = A;
->Align Temp5::Temp4 to 11bit;
:CARRY_BIT = 0;
:Temp5 = Temp5 >> 1;
:A = Temp4;
:A = A >> 1;
:A += Temp3;
:Temp4 = A;
:A = Temp5;
:A = A + (0 + CARRY_BIT);
:Temp5 = A;
->Temp5::Temp4 is now scaled from 0-2000 to 0-2048 (sort of, not exact);
if (Temp5.3 != 0) then
  ->yes - limit to 11 bit maximum;
  :Temp4 = 0xFF;
  :Temp5 = 0x07;
endif
if (Flag_Motor_Started == 0 && Flag_Initial_Run_Phase == 1) then
  ->Increase startup power if motor has not started and rc pulse is small;
  if (Temp5 == 0) then
    ->yes -> Read minimum startup setting from 'external' memory;
    :B = *Pgm_Startup_Power_Min;
    ->Set power to at least be minimum startup power;
    :CARRY_BIT = 0;
    :A = Temp4;
    :A -= B;
    ->A < B -> CARRY_BIT == 1;
    if (CARRY_BIT == 1) then
      ->yes -> Set A = *Pgm_Startup_Power_Min;
      :A = B;
    endif    
  endif
  ->Check stall count;
  :A = Startup_Stall_Cnt;
  if (A != 0) then
    ->yes -> boost startup. Note. Startup_Stall_Cnt shall be smaller to 6;
    :B = 0x40;
    :A = A * B;
    :A += Temp4;
    ->Temp4 = Temp4 + Startup_Stall_Cnt * 0x40;    
    :Temp4 = A;
    :A = Temp5;
    :A = A + (0 + CARRY_BIT);
    ->Temp5::Temp4 = Temp5::Temp4 + Startup_Stall_Cnt * 0x40;    
    :Temp5 = A;
  endif
endif
->Convert Temp5::Temp4 rc pulse to a 8 bit value;
:A = Temp4;
:A = A & 0xF8;
:A = A | Temp5;
->Swap lo and hi nibbles;
:swap A;
->Rolls A to the left, bit 0 gets bit 7 value;
:A = A << 1;
->Temp2 = Temp5::Temp4 >> 3;
if (Temp2 == 0) then
  ->yes -> set Flag_Rcp_Stop;
  :Flag_Rcp_Stop = 1;
else
  ->no -> clear Flag_Rcp_Stop and set Rcp_Stop_Cnt to 0;
  :Flag_Rcp_Stop = 0;
  :Rcp_Stop_Cnt = 0;
endif
if (Rcp_Outside_Range_Cnt != 0) then
  ->yes -> decrement;
  :Rcp_Outside_Range_Cnt- -;
endif
->Select minimum PWM limit;
:Temp6 = Pwm_Limit;
if (Temp6 > Pwm_Limit_By_Rpm) then
  ->yes -> update to pwm limit by rpm;
  :Temp6 = Pwm_Limit_By_Rpm;
endif
->Apply pwm limit
  Temp2 is 8 bit rc pulse
  Temp6 is Pwm limit;
if (Temp2 > Temp6) then
  ->yes -> rc pulse bigger than pwm limit;
  if (PWM_BITS_H == 0) then
    ->YES -> 8 bit;
    :Temp2 = Temp6;
  else
    ->NO -> set 11bit rc pulse = pwm limit * 8;
    :A = Temp6;
    :B = 8;
    :A = A * B;
    :Temp4 = A;
    :Temp5 = B;
  endif
endif
->Scale pwm resolution and invert (duty cycle is defined inversely);
if (PWM_BITS_H == 3) then
  ->11bit pwm;
  :A = Temp5;
  :A = ~A;
  :A = A & 0x07;
  :Temp3 = A;
  :A = Temp4;
  :A = ~A;
  ->Temp3::Temp2 = ~Temp5::Temp4;
  :Temp2 = A;
else if (PWM_BITS_H == 2) then
  ->10bit pwm;
  :CARRY_BIT = 0;
  :A = Temp5;
  :A = CARRY_BIT::A >> 1;
  :A = ~A;
  :A = A & 0x03;
  :Temp3 = A;
  :A = Temp4;
  :A = CARRY_BIT::A >> 1;
  :A = ~A;
  :Temp2 = A;
else if (PWM_BITS_H == 1) then
  ->9 bit pwm;
  :B = Temp5;
  :A = Temp4;
  :CARRY_BIT = B.0;
  :A = CARRY_BIT::A >> 1;
  :CARRY_BIT = B.1;
  :A = CARRY_BIT::A >> 1;
  :A = ~A;
  :Temp2 = A;
  :A = Temp5;
  :A = A >> 1;
  :A = A >> 1;
  :A = ~A;
  :A = A & 0x01;
  :Temp3 = A;
else
  ->8 bit pwm;
  :A = Temp2;
  :A = ~A;
  :Temp2 = A;
  :Temp3 = 0;
endif
->11-bit effective dithering of 8/9/10-bit pwm;
if (PWM_BITS_H < 3) then (yes)
  if (Flag_Dithering == 1) then
    ->yes -> Apply dithering;
    :A = Temp4;
    :A = ~A;
    :A = A & ((1 << (3 - PWM_BITS_H)) - 1);
    ->A contains the index into dithering patterns;
    :A = A + &Dithering_Patterns;
    ->Reuse DSHOT pwm pointer because at this point it is not in use;
    :Temp1 = A;
    ->Read pattern;
    :A = *Temp1;
    ->Rotate pattern;
    :A = A << 1;
    ->Store pattern;
    :*Temp1 = A;
    if (A.0 == 1) then
      ->yes -> Increment pwm if bit is set;
      :A = Temp2;
      :A = A + 1;
      :Temp2 = A;
      if (A == 0) then
        ->yes -> propagate carry bit to temp3;
        if (PWM_BITS_H != 0) then (yes)
          :A = Temp3;
          :A = A + 0 + CARRY_BIT;
          :Temp3 = A;
          if (A.PWM_BITS_H == 1) then
            ->yes -> Avoid overflow;
            :Temp3 = Temp3 - 1;
          endif
        endif
        :Temp2 = Temp2 - 1;
      endif
    endif
  endif
endif
->Set pwm registers;
if (DEADTIME != 0) then
  ->yes -> Subtract dead time from normal pwm and store as damping pwm
  Damping pwm duty cycle will be higher because numbers are inverted;
  :CARRY_BIT = 0;
  ->Skew damping FET timing;
  :A = Temp2;
  if (MCU_48MHZ == 0) then (yes)
    :A = A - ((DEADTIME + 1) >> 1);
  else (no)
    :A = A - DEADTIME;
  endif
  :Temp4 = A;
  :A = Temp3;
  :A = A - (0 + CARRY_BIT);
  :Temp5 = A;
  if  (A == 0) then
    ->yes -> Set to minimum value;
    :A = 0;
    :Temp4 = 0;
    :Temp5 = 0;
  else
    ->no -> Set to max braking;
    :CARRY_BIT = 0;
    :A = Temp4;
    :A = A - Pwm_Braking_L;
    :A = Temp5;
    :A = A - (Pwm_Braking_L + CARRY_BIT);
    if (CARRY_BIT == 0) then
      ->yes -> Is braking pwm more than maximum allowed braking?;
      :Temp4 = Pwm_Braking_L;
      :Temp5 = Pwm_Braking_H;
    endif
  endif
endif
->Note: Interrupts are not explicitly disabled
Assume higher priority interrupts (Int0, Timer0) to be disabled at this point
Set pwm registers;
if (PWM_BITS_H != 0) then (yes)
  :Set_Power_Pwm_Reg_L(Temp2);
  :Set_Power_Pwm_Reg_H(Temp3);
else (no)
  :Set_Power_Pwm_Reg_L(Temp2);
endif
->Set deadtime registers;
if (DEADTIME != 0) then (yes)
  if (PWM_BITS_H != 0) then (yes)
    :Set_Damp_Pwm_Reg_L(Temp4);
    :Set_Damp_Pwm_Reg_H(Temp5);
  else (no)
    :Set_Damp_Pwm_Reg_L(Temp4);
  endif
endif
->Set timeout count;
:Rcp_Timeout_Cntd = 10;
->Prepare DShot telemetry;
if (Flag_Rcp_DShot_Inverted == 1 && Flag_Telemetry_Pending == 1) then
  ->yes -> Prepare Timer0 for sending telemetry data
  Timer0 is system clock divided by 4;
  :CKCON0 = 0x01;
  ->Timer0 runs free not gated by Int0;
  :TMOD = 0xA2;
  ->Configure RTX_PIN for digital output
  Default to high level;
  :RTX_BIT = 1;
  ->Set output mode to push-pull;
  :RTX_MDOUT = RTX_MDOUT | (1 << RTX_PIN);
  ->Set tx pointer to start;
  :Temp1 = 0;
  ->Note: Delay must be large enough to ensure port is ready for output
  Telemetry will begin after this delay;
  :TL0 = DShot_GCR_Start_Delay;
  ->Clear Timer0 overflow flag;
  :TCON_TF0 = 0;
  ->Enable Timer0 interrupts;
  :IE_ET0 = 1;
else
  ->no -> Do not send telemetry. Set tx pointer to start, 
  reset timer 0 and enable int0 and int1;
  :Temp1 = 0;
  :TL0 = 0;
  :IE_EX0 = 1;
  :IE_EX1 = 1;
endif
->Restore registers and status word from stack;
:pop B;
:pop ACC;
:pop PSW;
:reti;
stop
@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>